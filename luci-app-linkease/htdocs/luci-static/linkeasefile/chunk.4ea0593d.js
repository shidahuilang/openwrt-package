var be=Object.defineProperty,ye=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ue=(r,o,n)=>o in r?be(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,Y=(r,o)=>{for(var n in o||(o={}))Ie.call(o,n)&&ue(r,n,o[n]);if(ce)for(var n of ce(o))Ee.call(o,n)&&ue(r,n,o[n]);return r},U=(r,o)=>ye(r,xe(o));var de=(r,o,n)=>new Promise((c,_)=>{var L=k=>{try{u(n.next(k))}catch(w){_(w)}},R=k=>{try{u(n.throw(k))}catch(w){_(w)}},u=k=>k.done?c(k.value):Promise.resolve(k.value).then(L,R);u((n=n.apply(r,o)).next())});import{i as Ce,a as Ne,b as Te,d as Oe,m as ze,c as pe,e as Q,f as _e,g as Re,s as $e,u as Ae,h as De,j as Le,r as H,k as Fe,l as Se,n as v,w as fe,o as Be,p as Pe,q as m,t as D,v as l,x as f,y as t,z as p,A as e,B as Me,C as $,E as T,D as Ve,F as A,G as Xe,H as Ye,I as G,J as He,K as qe,L as ge,M as We,N as Ue,O as he,P as Ze,Q as je,R as me,S as Ge,T as Qe,U as Je,_ as Ke,V as Z,W as P,X as et,Y as tt,Z as st,$ as nt,a0 as at,a1 as O,a2 as ve,a3 as ot,a4 as j,a5 as lt,a6 as it,a7 as rt}from"./index.js";import{u as ke}from"./chunk.6424c2fc.js";import{d as ct}from"./chunk.22632dc4.js";import{l as ut}from"./chunk.4a114b4a.js";var dt="Expected a function";function ae(r,o,n){var c=!0,_=!0;if(typeof r!="function")throw new TypeError(dt);return Ce(n)&&(c="leading"in n?!!n.leading:c,_="trailing"in n?!!n.trailing:_),ct(r,o,{leading:c,maxWait:o,trailing:_})}const _t=()=>Ne&&/firefox/i.test(window.navigator.userAgent),ft=Te({urlList:{type:Oe(Array),default:()=>ze([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),mt={close:()=>!0,switch:r=>pe(r)},vt=["src"],pt={name:"ElImageViewer"},gt=Q(U(Y({},pt),{props:ft,emits:mt,setup(r,{expose:o,emit:n}){const c=r,_={CONTAIN:{name:"contain",icon:_e(Re)},ORIGINAL:{name:"original",icon:_e($e)}},L=_t()?"DOMMouseScroll":"mousewheel",{t:R}=Ae(),u=De("image-viewer"),{nextZIndex:k}=Le(),w=H(),F=H([]),q=Fe(),E=H(!0),b=H(c.initialIndex),S=Se(_.CONTAIN),a=H({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),C=v(()=>{const{urlList:s}=c;return s.length<=1}),M=v(()=>b.value===0),W=v(()=>b.value===c.urlList.length-1),J=v(()=>c.urlList[b.value]),K=v(()=>{const{scale:s,deg:i,offsetX:d,offsetY:g,enableTransition:x}=a.value;let h=d/s,I=g/s;switch(i%360){case 90:case-270:[h,I]=[I,-h];break;case 180:case-180:[h,I]=[-h,-I];break;case 270:case-90:[h,I]=[-I,h];break}const B={transform:`scale(${s}) rotate(${i}deg) translate(${h}px, ${I}px)`,transition:x?"transform .3s":""};return S.value.name===_.CONTAIN.name&&(B.maxWidth=B.maxHeight="100%"),B}),V=v(()=>pe(c.zIndex)?c.zIndex:k());function X(){te(),n("close")}function ee(){const s=ae(d=>{switch(d.code){case P.esc:c.closeOnPressEscape&&X();break;case P.space:le();break;case P.left:ie();break;case P.up:N("zoomIn");break;case P.right:re();break;case P.down:N("zoomOut");break}}),i=ae(d=>{(d.wheelDelta?d.wheelDelta:-d.detail)>0?N("zoomIn",{zoomRate:1.2,enableTransition:!1}):N("zoomOut",{zoomRate:1.2,enableTransition:!1})});q.run(()=>{Z(document,"keydown",s),Z(document,L,i)})}function te(){q.stop()}function y(){E.value=!1}function se(s){E.value=!1,s.target.alt=R("el.image.error")}function we(s){if(E.value||s.button!==0||!w.value)return;a.value.enableTransition=!1;const{offsetX:i,offsetY:d}=a.value,g=s.pageX,x=s.pageY,h=ae(B=>{a.value=U(Y({},a.value),{offsetX:i+B.pageX-g,offsetY:d+B.pageY-x})}),I=Z(document,"mousemove",h);Z(document,"mouseup",()=>{I()}),s.preventDefault()}function oe(){a.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function le(){if(E.value)return;const s=et(_),i=Object.values(_),d=S.value.name,x=(i.findIndex(h=>h.name===d)+1)%s.length;S.value=_[s[x]],oe()}function ne(s){const i=c.urlList.length;b.value=(s+i)%i}function ie(){M.value&&!c.infinite||ne(b.value-1)}function re(){W.value&&!c.infinite||ne(b.value+1)}function N(s,i={}){if(E.value)return;const{zoomRate:d,rotateDeg:g,enableTransition:x}=Y({zoomRate:1.4,rotateDeg:90,enableTransition:!0},i);switch(s){case"zoomOut":a.value.scale>.2&&(a.value.scale=Number.parseFloat((a.value.scale/d).toFixed(3)));break;case"zoomIn":a.value.scale<7&&(a.value.scale=Number.parseFloat((a.value.scale*d).toFixed(3)));break;case"clockwise":a.value.deg+=g;break;case"anticlockwise":a.value.deg-=g;break}a.value.enableTransition=x}return fe(J,()=>{Be(()=>{const s=F.value[0];s!=null&&s.complete||(E.value=!0)})}),fe(b,s=>{oe(),n("switch",s)}),Pe(()=>{var s,i;ee(),(i=(s=w.value)==null?void 0:s.focus)==null||i.call(s)}),o({setActiveItem:ne}),(s,i)=>(m(),D(Je,{to:"body",disabled:!s.teleported},[l(Qe,{name:"viewer-fade",appear:""},{default:f(()=>[t("div",{ref_key:"wrapper",ref:w,tabindex:-1,class:p(e(u).e("wrapper")),style:me({zIndex:e(V)})},[t("div",{class:p(e(u).e("mask")),onClick:i[0]||(i[0]=Me(d=>s.hideOnClickModal&&X(),["self"]))},null,2),$(" CLOSE "),t("span",{class:p([e(u).e("btn"),e(u).e("close")]),onClick:X},[l(e(T),null,{default:f(()=>[l(e(Ve))]),_:1})],2),$(" ARROW "),e(C)?$("v-if",!0):(m(),A(G,{key:0},[t("span",{class:p([e(u).e("btn"),e(u).e("prev"),e(u).is("disabled",!s.infinite&&e(M))]),onClick:ie},[l(e(T),null,{default:f(()=>[l(e(Xe))]),_:1})],2),t("span",{class:p([e(u).e("btn"),e(u).e("next"),e(u).is("disabled",!s.infinite&&e(W))]),onClick:re},[l(e(T),null,{default:f(()=>[l(e(Ye))]),_:1})],2)],64)),$(" ACTIONS "),t("div",{class:p([e(u).e("btn"),e(u).e("actions")])},[t("div",{class:p(e(u).e("actions__inner"))},[l(e(T),{onClick:i[1]||(i[1]=d=>N("zoomOut"))},{default:f(()=>[l(e(He))]),_:1}),l(e(T),{onClick:i[2]||(i[2]=d=>N("zoomIn"))},{default:f(()=>[l(e(qe))]),_:1}),t("i",{class:p(e(u).e("actions__divider"))},null,2),l(e(T),{onClick:le},{default:f(()=>[(m(),D(ge(e(S).icon)))]),_:1}),t("i",{class:p(e(u).e("actions__divider"))},null,2),l(e(T),{onClick:i[3]||(i[3]=d=>N("anticlockwise"))},{default:f(()=>[l(e(We))]),_:1}),l(e(T),{onClick:i[4]||(i[4]=d=>N("clockwise"))},{default:f(()=>[l(e(Ue))]),_:1})],2)],2),$(" CANVAS "),t("div",{class:p(e(u).e("canvas"))},[(m(!0),A(G,null,he(s.urlList,(d,g)=>Ze((m(),A("img",{ref_for:!0,ref:x=>F.value[g]=x,key:d,src:d,style:me(e(K)),class:p(e(u).e("img")),onLoad:y,onError:se,onMousedown:we},null,46,vt)),[[je,g===b.value]])),128))],2),Ge(s.$slots,"default")],6)]),_:3})],8,["disabled"]))}}));var ht=Ke(gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const kt=tt(ht),wt=Q({__name:"image",setup(r){const o=ke(),n=v(()=>o.previewImage.values),c=v(()=>o.previewImage.enable),_=()=>{o.previewImage.enable=!1,o.previewImage.values=[]};return(L,R)=>e(c)?(m(),D(e(kt),{key:0,"url-list":e(n),onClose:_},null,8,["url-list"])):$("",!0)}}),bt=Q({__name:"index",setup(r){return(o,n)=>(m(),D(wt))}}),z=r=>(lt("data-v-9840e643"),r=r(),it(),r),yt=z(()=>t("div",{class:"logo"},[t("span",null,"\u6587\u4EF6\u7BA1\u7406")],-1)),xt={class:"menus"},It=["href"],Et={class:"icon"},Ct=z(()=>t("div",{class:"info"},[t("div",{class:"name"}," \u5F00\u542F\u7F51\u76D8 "),t("div",{class:"desc"})],-1)),Nt=["onClick","title"],Tt={class:"icon"},Ot={class:"info"},zt={class:"name"},Rt=z(()=>t("div",{class:"desc"},null,-1)),$t={class:"sidebar"},At=z(()=>t("hr",null,null,-1)),Dt={class:"icon"},Lt={class:"info"},Ft={class:"name"},St={key:0},Bt=z(()=>t("div",{class:"desc"},null,-1)),Pt={class:"icon"},Mt=z(()=>t("div",{class:"info"},[t("div",{class:"name"}," \u56DE\u6536\u7AD9 "),t("div",{class:"desc"})],-1)),Vt={class:"icon"},Xt=z(()=>t("div",{class:"info"},[t("div",{class:"name"}," \u8BBE\u7F6E "),t("div",{class:"desc"})],-1)),Yt={class:"title"},Ht=z(()=>t("div",{class:"auto"},null,-1)),qt={class:"body"},Wt=Q({__name:"index",setup(r){const o=nt(),n=at(),c=ke(),_=v(()=>c.menus),L=v(()=>c.keys),R=v(()=>c.task),u=st.getLinkeaseWebUrl();(()=>de(this,null,function*(){yield c.getEntries(),!n.query.path&&_.value.length>0&&q(_.value[0])}))();const w=v(()=>n.query.path),F=v(()=>{var a;if(w.value){for(let C=0;C<((a=_.value)==null?void 0:a.length);C++)if(new RegExp("^/"+_.value[C].name).test(w.value))return _.value[C]}}),q=a=>{n.name==="PageIndexIndex"&&o.push({path:n.path,query:U(Y({},n.query),{path:"/"+a.name})})},E=a=>!!(n.name==="PageIndexIndex"&&F.value&&F.value.name===a.name),b=v(()=>{var a;switch(n.name){case"PageIndexTask":return"\u4EFB\u52A1";case"PageIndexRecycle":return"\u56DE\u6536\u7AD9";case"PageIndexSetting":return"\u8BBE\u7F6E";default:return((a=F.value)==null?void 0:a.name)||""}}),S=a=>new RegExp("_#HOME$").test(a.displayName||"");return(a,C)=>{const M=O("icon-disk"),W=O("icon-home"),J=O("icon-dir"),K=O("icon-task"),V=O("router-link"),X=O("icon-recycle"),ee=O("icon-setting"),te=O("router-view");return m(),A(G,null,[l(ut,null,{f:f(()=>[t("aside",null,[yt,t("div",xt,[l(e(ve),{class:"scrollbar-container"},{default:f(()=>[t("a",{class:"menu-item",target:"_blank",href:e(u)},[t("div",Et,[l(M)]),Ct],8,It),(m(!0),A(G,null,he(e(_),y=>(m(),A("li",{class:p(["menu-item",{on:E(y)}]),onClick:()=>{e(o).push({path:"/",query:{path:`/${y.name}`}})},title:y.name},[t("div",Tt,[y.name=="root"?(m(),D(W,{key:0})):(m(),D(J,{key:1}))]),t("div",Ot,[t("div",zt,j(y.name)+" "+j(S(y)?"[\u4E3B\u76EE\u5F55]":""),1),Rt])],10,Nt))),256))]),_:1})]),t("div",$t,[l(e(ve),{class:"scrollbar-container"},{default:f(()=>[At,l(V,{class:"menu-item",to:"/task"},{default:f(()=>[t("div",Dt,[l(K)]),t("div",Lt,[t("div",Ft,[ot(" \u4EFB\u52A1 "),e(R)>0?(m(),A("span",St,j(e(R)),1)):$("",!0)]),Bt])]),_:1}),l(V,{class:"menu-item",to:"/recycle"},{default:f(()=>[t("div",Pt,[l(X)]),Mt]),_:1}),l(V,{class:"menu-item",to:"/setting"},{default:f(()=>[t("div",Vt,[l(ee)]),Xt]),_:1})]),_:1})])])]),r:f(()=>[t("main",null,[t("header",null,[t("div",Yt,j(e(b)),1),Ht]),t("div",qt,[l(te,{name:"default"},{default:f(({Component:y,route:se})=>[(m(),D(ge(y),{key:`${se.path}-${e(L)}`}))]),_:1})])])]),_:1}),l(bt)],64)}}});const Jt=rt(Wt,[["__scopeId","data-v-9840e643"]]);export{Jt as default};
