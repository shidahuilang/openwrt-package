var qe=Object.defineProperty,Ue=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var Fe=(e,u,n)=>u in e?qe(e,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[u]=n,vt=(e,u)=>{for(var n in u||(u={}))Re.call(u,n)&&Fe(e,n,u[n]);if(he)for(var n of he(u))We.call(u,n)&&Fe(e,n,u[n]);return e},ht=(e,u)=>Ue(e,He(u));var T=(e,u,n)=>new Promise((a,d)=>{var F=s=>{try{r(n.next(s))}catch(i){d(i)}},p=s=>{try{r(n.throw(s))}catch(i){d(i)}},r=s=>s.done?a(s.value):Promise.resolve(s.value).then(F,p);r((n=n.apply(e,u)).next())});import{d as V,M as Ge,s as C,r as jt,o,c,a as t,x as L,a0 as ke,F as N,E as K,g as R,m as $,b as x,w as M,l as m,N as Lt,_ as S,C as P,T as A,Y as Ze,p as q,q as U,a4 as ct,$ as tt,Z as bt,X as et,a5 as Bt,e as z,i as W,a2 as Be,A as Y,B as lt,a6 as st,a7 as je,D as Et,z as Z,G as Xt,Q as we,j as mt,h as Nt,U as Qt,u as Ae,P as at,a8 as xe,a9 as Xe,aa as me,I as Qe,O as Ye,ab as Ke,ac as Je,y as it,ad as tu,V as Se,W as eu,k as uu}from"./index.js?v=5b4be379";import{c as nu,i as Ft}from"./chunk.6d3585bb.js";import{u as su,i as ou,b as au,c as iu,d as lu,e as cu,f as du,g as ru,G as Ht,F as _u,a as pu}from"./chunk.ffd7724b.js";var vu="/luci-static/istorex/logo.png?v=d233e332",hu="/luci-static/istorex/task.svg?v=f6a42032",Fu="/luci-static/istorex/safari.svg?v=1bf8526f",mu="/luci-static/istorex/setup.svg?v=69c7a200",fu="/luci-static/istorex/logout.svg?v=e9e539f8",Eu="/luci-static/istorex/icon_language_auto.png?v=45447541",Cu="/luci-static/istorex/icon_language_cantonese.png?v=77010a8d",gu="/luci-static/istorex/icon_language_cn.png?v=9b80c184",$u="/luci-static/istorex/icon_language_en.png?v=ea39cc2b",Zt={exports:{}};(function(e,u){(function(n,a){var d={};n.PubSub?(d=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=d,a(d)),e!==void 0&&e.exports&&(u=e.exports=d),u.PubSub=d,e.exports=u=d})(typeof window=="object"&&window||nu,function(n){var a={},d=-1,F="*";function p(l){var E;for(E in l)if(Object.prototype.hasOwnProperty.call(l,E))return!0;return!1}function r(l){return function(){throw l}}function s(l,E,h){try{l(E,h)}catch(k){setTimeout(r(k),0)}}function i(l,E,h){l(E,h)}function _(l,E,h,k){var w=a[E],y=k?i:s,g;if(!!Object.prototype.hasOwnProperty.call(a,E))for(g in w)Object.prototype.hasOwnProperty.call(w,g)&&y(w[g],l,h)}function f(l,E,h){return function(){var w=String(l),y=w.lastIndexOf(".");for(_(l,l,E,h);y!==-1;)w=w.substr(0,y),y=w.lastIndexOf("."),_(l,w,E,h);_(l,F,E,h)}}function b(l){var E=String(l),h=Boolean(Object.prototype.hasOwnProperty.call(a,E)&&p(a[E]));return h}function D(l){for(var E=String(l),h=b(E)||b(F),k=E.lastIndexOf(".");!h&&k!==-1;)E=E.substr(0,k),k=E.lastIndexOf("."),h=b(E);return h}function v(l,E,h,k){l=typeof l=="symbol"?l.toString():l;var w=f(l,E,k),y=D(l);return y?(h===!0?w():setTimeout(w,0),!0):!1}n.publish=function(l,E){return v(l,E,!1,n.immediateExceptions)},n.publishSync=function(l,E){return v(l,E,!0,n.immediateExceptions)},n.subscribe=function(l,E){if(typeof E!="function")return!1;l=typeof l=="symbol"?l.toString():l,Object.prototype.hasOwnProperty.call(a,l)||(a[l]={});var h="uid_"+String(++d);return a[l][h]=E,h},n.subscribeAll=function(l){return n.subscribe(F,l)},n.subscribeOnce=function(l,E){var h=n.subscribe(l,function(){n.unsubscribe(h),E.apply(this,arguments)});return n},n.clearAllSubscriptions=function(){a={}},n.clearSubscriptions=function(E){var h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&h.indexOf(E)===0&&delete a[h]},n.countSubscriptions=function(E){var h,k,w=0;for(h in a)if(Object.prototype.hasOwnProperty.call(a,h)&&h.indexOf(E)===0){for(k in a[h])w++;break}return w},n.getSubscriptions=function(E){var h,k=[];for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&h.indexOf(E)===0&&k.push(h);return k},n.unsubscribe=function(l){var E=function(I){var O;for(O in a)if(Object.prototype.hasOwnProperty.call(a,O)&&O.indexOf(I)===0)return!0;return!1},h=typeof l=="string"&&(Object.prototype.hasOwnProperty.call(a,l)||E(l)),k=!h&&typeof l=="string",w=typeof l=="function",y=!1,g,B,H;if(h){n.clearSubscriptions(l);return}for(g in a)if(Object.prototype.hasOwnProperty.call(a,g)){if(B=a[g],k&&B[l]){delete B[l],y=l;break}if(w)for(H in B)Object.prototype.hasOwnProperty.call(B,H)&&B[H]===l&&(delete B[H],y=!0)}return y}})})(Zt,Zt.exports);var Ie=Zt.exports;const Ct=e=>(q("data-v-019a9ac0"),e=e(),U(),e),bu={class:"header"},yu=Ct(()=>t("img",{src:vu,alt:"logo"},null,-1)),Du={class:"menu"},ku={class:"language"},Bu={class:"actions"},wu=["onClick"],Au=["src"],xu=["src"],Su=["src"],Iu=["src"],Pu={class:"task"},Vu={key:0,class:"dropdown-container"},Mu={class:"title"},Tu=Ct(()=>t("span",null,"\u5B89\u88C5\u4EFB\u52A1",-1)),Lu=Ct(()=>t("div",{class:"auto"},null,-1)),zu={class:"dropdown-container_menus"},Ou={class:"dropdown-menu_item"},Nu=Ct(()=>t("div",{class:"auto"},null,-1)),qu={class:"status"},Uu={key:0},Hu={key:1},Ru={class:"btn"},Wu=Ct(()=>t("span",null," \u5B89\u88C5\u4E2D ",-1)),Gu={class:"wizard"},Zu={key:0,class:"dropdown-container",style:{width:"140px"}},ju=Ct(()=>t("h2",{class:"title"},"\u5207\u6362\u5411\u5BFC\u6A21\u5F0F",-1)),Xu=Ct(()=>t("a",{href:"/cgi-bin/luci/admin/quickstart/"},[t("img",{width:"28",height:"28",title:"\u5207\u6362\u81F3\u666E\u901A\u7248\u672C",src:mu,alt:"setup"})],-1)),Qu=Ct(()=>t("a",{href:"/cgi-bin/luci/admin/logout"},[t("img",{width:"28",height:"28",title:"\u6CE8\u9500",src:fu,alt:"logout"})],-1)),Yu=V({__name:"index",setup(e){const u=Ge(),n=C(!1),a=C(localStorage.getItem("i18n")),d=()=>{n.value=!n.value},F=g=>b.value.indexOf(g)!=-1,p=g=>D.value.indexOf(g)!=-1,r=g=>{let B="";g===0&&(B="auto"),g===1&&(B="zh-CN"),g===2&&(B="zh-TW"),g===3&&(B="en"),a.value=B,localStorage.setItem("i18n",B),B==="auto"?ct.global.locale=navigator.language:ct.global.locale=B,Ie.publish("changeLocale",B)},s=C(!1),i=C(!1),_=C(!1),f=C([]),b=C([]),D=C([]),v=()=>T(this,null,function*(){try{const g=yield P.Quickstart.SetupResult.GET();if(g.data){const{result:B,error:H}=g.data;g.data.success==0&&B&&(f.value=B.packages||[],b.value=B.success||[],D.value=B.failed||[])}}catch(g){console.log(g)}});let l=!1;setTimeout(()=>T(this,null,function*(){yield v(),localStorage.getItem("nas_guide_init")&&(l=!0,s.value=!0)}),1e3);const E=()=>T(this,null,function*(){_.value||(yield k("router"))}),h=()=>T(this,null,function*(){_.value||(yield k("next-nas"))}),k=g=>T(this,null,function*(){_.value=!0;try{const B=yield P.Istorex.Updata.POST({model:g});if(A.Success("\u64CD\u4F5C\u6210\u529F"),B.data){const{success:H,error:I}=B.data;if(I)throw I;H===0&&u.push({path:`/${g}`})}}catch(B){A.Error(`${B}`)}finally{_.value=!1}}),w=()=>{s.value=!1,l&&localStorage.removeItem("nas_guide_init")},y=()=>{Ze.autoSetup.Open()};return(g,B)=>{const H=jt("icon-loading");return o(),c("div",bu,[yu,t("div",Du,[t("span",ku,[L(t("div",Bu,[t("div",{class:"menu_background",onClick:d}),t("ul",null,[(o(),c(N,null,K(["Auto","\u7B80\u4F53\u4E2D\u6587","\u7E41\u4F53\u4E2D\u6587","\u82F1\u6587"],(I,O)=>t("li",{onClick:nt=>r(O)},m(I),9,wu)),64))])],512),[[ke,n.value]]),a.value==="auto"?(o(),c("img",{key:0,width:"28",height:"28",src:R(Eu),onClick:d},null,8,Au)):$("",!0),a.value==="zh-CN"?(o(),c("img",{key:1,width:"28",height:"28",src:R(gu),onClick:d},null,8,xu)):$("",!0),a.value==="zh-TW"?(o(),c("img",{key:2,width:"28",height:"28",src:R(Cu),onClick:d},null,8,Su)):$("",!0),a.value==="en"?(o(),c("img",{key:3,width:"28",height:"28",src:R($u),onClick:d},null,8,Iu)):$("",!0)]),t("div",Pu,[t("img",{onClick:B[0]||(B[0]=I=>s.value=!s.value),width:"28",height:"28",title:"\u5B89\u88C5\u4EFB\u52A1\u8FDB\u5EA6",src:hu,alt:"logo"}),s.value?(o(),c("div",{key:0,class:"dropdown-bg",onClick:w})):$("",!0),x(Lt,null,{default:M(()=>[s.value?(o(),c("div",Vu,[t("h2",Mu,[Tu,t("span",null,"("+m(b.value.length+D.value.length+"/"+f.value.length)+")",1),Lu,t("a",{onClick:y},"\u67E5\u770B\u65E5\u5FD7")]),t("div",zu,[(o(!0),c(N,null,K(f.value,I=>(o(),c("div",Ou,[t("span",null,m(I),1),Nu,t("div",qu,[F(I)?(o(),c("span",Uu," \u6210\u529F ")):p(I)?(o(),c("span",Hu," \u5931\u8D25 ")):(o(),c(N,{key:2},[t("div",Ru,[x(H)]),Wu],64))])]))),256))])])):$("",!0)]),_:1})]),t("div",Gu,[t("img",{onClick:B[1]||(B[1]=I=>i.value=!i.value),width:"28",height:"28",title:"\u5411\u5BFC\u6A21\u5F0F",src:Fu,alt:"safari"}),i.value?(o(),c("div",{key:0,class:"dropdown-bg",onClick:B[2]||(B[2]=I=>i.value=!1)})):$("",!0),x(Lt,{name:"fade"},{default:M(()=>[i.value?(o(),c("div",Zu,[ju,t("div",{class:"dropdown-menu_item",style:{"margin-bottom":"8px"},onClick:E}," \u8DEF\u7531\u6A21\u5F0F "),t("div",{class:"dropdown-menu_item",onClick:h},"NAS\u6A21\u5F0F")])):$("",!0)]),_:1})]),Xu,Qu])])}}});var Ku=S(Yu,[["__scopeId","data-v-019a9ac0"]]);const Ju={},tn={class:"SearchBar"},en=["placeholder"];function un(e,u){return o(),c("div",tn,[t("input",{placeholder:e.$t("\u5E94\u7528\u641C\u7D22")},null,8,en)])}var nn=S(Ju,[["render",un],["__scopeId","data-v-a531abbc"]]);const sn={class:"widget"},on={key:0,class:"title"},an=V({__name:"index",props:{title:{},height:{},maxHeight:{},contentStyle:{}},setup(e){const u=e;return(n,a)=>(o(),c("div",sn,[t("div",{style:tt(`height: ${u.height};max-height:${u.maxHeight}`)},[u.title?(o(),c("span",on,m(u.title),1)):$("",!0),t("div",{style:tt(u.contentStyle)},[bt(n.$slots,"default",{},void 0,!0)],4)],4)]))}});var ft=S(an,[["__scopeId","data-v-261e10c6"]]);const ln={},cn={t:"1640746738262",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1216",width:"128",height:"128"},dn=t("path",{d:"M511.232 438.8352L112.9984 40.6016A51.2 51.2 0 0 0 40.6016 112.9984L438.784 511.232 40.6016 909.4656a51.2 51.2 0 1 0 72.3968 72.448l398.2336-398.2848 398.2336 398.2848a51.2 51.2 0 1 0 72.448-72.448l-398.2848-398.2336 398.2848-398.2336A51.2 51.2 0 0 0 909.4656 40.6016L511.232 438.784z","p-id":"1217"},null,-1),rn=[dn];function _n(e,u){return o(),c("svg",cn,rn)}var pn=S(ln,[["render",_n]]);const vn=e=>(q("data-v-664f08dd"),e=e(),U(),e),hn={id:"actioner"},Fn={key:0,class:"action-container"},mn={class:"action-container_header"},fn=vn(()=>t("div",null,null,-1)),En={class:"title"},Cn={class:"action-container_body"},gn=V({__name:"index",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){const u=e,n=C(!1);et(()=>{n.value=!0,document.body.setAttribute("lock-scroll","true")}),Bt(()=>{document.body.removeAttribute("lock-scroll")});const a=()=>{u.Close&&(n.value=!1,setTimeout(()=>{u.Close&&u.Close()},300))};return(d,F)=>(o(),c("div",hn,[t("div",{class:"bg",onClick:a}),e.type!=null?bt(d.$slots,"default",{key:0},void 0,!0):(o(),c(N,{key:1},[n.value?(o(),c("div",Fn,[t("div",mn,[fn,t("div",En,m(e.title),1),t("button",{class:"close",title:"\u5173\u95ED",onClick:a},[x(pn)])]),t("div",Cn,[bt(d.$slots,"default",{},void 0,!0)])])):$("",!0)],64))]))}});var $n=S(gn,[["__scopeId","data-v-664f08dd"]]);const ot=V({__name:"modal",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){return(u,n)=>(o(),z($n,{Close:e.Close,type:e.type,title:e.title},{default:M(()=>[bt(u.$slots,"default")]),_:3},8,["Close","type","title"]))}}),bn={},yn={t:"1649907260906",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2793","xmlns:xlink":"http://www.w3.org/1999/xlink"},Dn=t("path",{d:"M764.904497 251.418146 259.086289 251.418146c-143.076626 0-259.065314 115.989711-259.065314 259.065314 0 143.077649 115.988688 259.063267 259.065314 259.063267l505.818207 0c143.074579 0 259.063267-115.985618 259.063267-259.063267C1023.967764 367.407857 907.980099 251.418146 764.904497 251.418146zM764.904497 747.164974c-130.507356 0-236.682537-106.175181-236.682537-236.682537S634.397141 273.798876 764.904497 273.798876s236.683561 106.176205 236.683561 236.683561S895.411853 747.164974 764.904497 747.164974z","p-id":"2794",fill:"#52C41A"},null,-1),kn=[Dn];function Bn(e,u){return o(),c("svg",yn,kn)}var wn=S(bn,[["render",Bn]]);const An={},xn={t:"1649907515643",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2971","xmlns:xlink":"http://www.w3.org/1999/xlink"},Sn=t("path",{d:"M764.867148 249.793136 259.0735 249.793136c-143.070486 0-259.052011 115.984594-259.052011 259.052011 0 143.07151 115.982548 259.050987 259.052011 259.050987l505.793648 0c143.067416 0 259.050987-115.979478 259.050987-259.050987C1023.917112 365.778754 907.933541 249.793136 764.867148 249.793136zM259.0735 745.516428c-130.501216 0-236.671281-106.172111-236.671281-236.671281 0-130.501216 106.170065-236.671281 236.671281-236.671281S495.744781 378.344954 495.744781 508.84617C495.744781 639.34534 389.574716 745.516428 259.0735 745.516428z","p-id":"2972",fill:"#999"},null,-1),In=[Sn];function Pn(e,u){return o(),c("svg",xn,In)}var Vn=S(An,[["render",Pn]]);const Mn={class:"checkbox_switch_on"},Tn={class:"checkbox_switch_off"},Ln=V({__name:"index",props:{modelValue:{type:Boolean,required:!0},height:{type:String,default:"100%"}},emits:["update:modelValue"],setup(e,{emit:u}){const n=e,a=W({get:()=>n.modelValue.valueOf(),set:d=>u("update:modelValue",d)});return(d,F)=>(o(),c("label",{class:"checkbox_switch",style:tt({height:e.height})},[L(t("input",{type:"checkbox","onUpdate:modelValue":F[0]||(F[0]=p=>a.value=p)},null,512),[[Be,a.value]]),t("span",Mn,[x(wn)]),t("span",Tn,[x(Vn)]),bt(d.$slots,"default",{},void 0,!0)],4))}});var zn=S(Ln,[["__scopeId","data-v-1b6cddbc"]]);const J=e=>(q("data-v-76799e09"),e=e(),U(),e),On=["onSubmit"],Nn=J(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u5185\u7F51\u914D\u7F6E")],-1)),qn={class:"actioner-dns_body"},Un={class:"label-item"},Hn=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5730\u5740")],-1)),Rn={class:"label-item_value"},Wn={class:"label-item"},Gn=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5B50\u7F51\u63A9\u7801")],-1)),Zn={class:"label-item_value"},jn={key:0,class:"chose_dhcp"},Xn={key:0,class:"dhcp_info"},Qn={key:1,class:"dhcp_info"},Yn={class:"label-item"},Kn=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u8D77\u59CB\u5730\u5740")],-1)),Jn={class:"label-item_value"},ts={class:"label-item"},es=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u7ED3\u675F\u5730\u5740")],-1)),us={class:"label-item_value"},ns={class:"actioner-dns_footer"},ss=["disabled"],os={key:1,class:"actioner-dns"},as=J(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u66F4\u6362\u914D\u7F6E")],-1)),is={class:"actioner-dns_body"},ls={key:0,class:"setting_status"},cs=J(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128"},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063"})])],-1)),ds=J(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u6210\u529F",-1)),rs=["href"],_s={key:1,class:"setting_status"},ps=J(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063200324",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5898",width:"128",height:"128"},[t("path",{d:"M549.044706 512l166.189176-166.249412a26.383059 26.383059 0 0 0 0-36.98447 26.383059 26.383059 0 0 0-37.044706 0L512 475.015529l-166.249412-166.249411a26.383059 26.383059 0 0 0-36.98447 0 26.383059 26.383059 0 0 0 0 37.044706L475.015529 512l-166.249411 166.249412a26.383059 26.383059 0 0 0 0 36.98447 26.383059 26.383059 0 0 0 37.044706 0L512 548.984471l166.249412 166.249411a26.383059 26.383059 0 0 0 36.98447 0 26.383059 26.383059 0 0 0 0-37.044706L548.984471 512zM512 1024a512 512 0 1 1 0-1024 512 512 0 0 1 0 1024z",fill:"#E84335","p-id":"5899"})])],-1)),vs=J(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u5931\u8D25",-1)),hs=J(()=>t("p",null,"\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E",-1)),Fs={key:2,class:"setting_status"},ms=J(()=>t("div",{class:"success_icon"},[t("svg",{width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])])],-1)),fs=J(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u8D85\u65F6",-1)),Es=J(()=>t("p",null," \u8DEF\u7531\u5668 IP \u53EF\u80FD\u5DF2\u7ECF\u4FEE\u6539\u6210\u529F\u3002\u82E5\u5237\u65B0\u9875\u9762\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u8FDE\u63A5\u8DEF\u7531\u5668\uFF0C\u5426\u5219\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E\u3002 ",-1)),Cs=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,n=C(0),a=C({lanIp:"",netMask:"255.255.255.0",enableDhcp:!1,dhcpStart:"",dhcpEnd:""});C("");const d=C(!1);C(!0),C(!1);const F=C(""),p=C(2),r=C(!1),s=C("timeout");let i=!0;(()=>{P.Guide.GetLan.GET().then(l=>{l.data.result&&(r.value=l.data.result.enableDhcp||!1,l.data.result.enableDhcp=!1,a.value=l.data.result,l.data.result.lanIp!==location.hostname&&(i=!1))})})();const f=()=>{const l=a.value;if(!Ft.isValidIPv4(l.lanIp)){A.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(l.netMask)){A.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}const E=Ft.calcMaskRange(l.lanIp,l.netMask);l.dhcpStart=E[0],l.dhcpEnd=E[1],a.value=l},b=()=>{const l=a.value;if(!Ft.isValidIPv4(l.lanIp)){A.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(l.netMask)){A.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}if(l.enableDhcp&&!(Ft.isValidIPv4(l.dhcpStart)&&Ft.isValidIPv4(l.dhcpEnd)&&Ft.isValidMaskRange(l.lanIp,l.netMask,l.dhcpStart,l.dhcpEnd))){A.Warning("DHCP\u7684IP\u6C60\u683C\u5F0F\u9519\u8BEF\u6216\u8D85\u51FA\u5B50\u7F51\u8303\u56F4");return}const E=A.Loading("\u6B63\u5728\u914D\u7F6E\u2026\u8BF7\u7A0D\u7B49",30);let h=0;const k=y=>{s.value=y,n.value=1,h=1,E.Close()},w=()=>{const y=new Date().getTime()+3e4,g=i?location.protocol+"//"+l.lanIp+(location.port?":"+location.port:""):location.origin,B=g+"/luci-static/resources/icons/loading.gif",H=()=>{h==0&&(new Date().getTime()>y?k("timeout"):window.setTimeout(O,2e3))},I=()=>{h==0&&(F.value=g+location.pathname,k("success"),window.setTimeout(()=>{p.value=1},1e3),window.setTimeout(()=>{location.href=F.value},2e3))},O=()=>{if(h!=0)return;console.log("check online ",B);const nt=new Image;nt.onload=I,nt.onerror=H,nt.src=B};window.setTimeout(O,5e3)};P.Guide.LanIp.POST(l).then(y=>{var g;if(y!=null&&y.data){if((y.data.success||0)==0)return;if((g=y.data)!=null&&g.error)throw y.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(y=>{h==0&&(k("fail"),A.Error(y))}),w(),window.setTimeout(()=>{h==0&&k("timeout")},3e4)},D=l=>{l.preventDefault(),u.Close&&u.Close()},v=l=>{location.reload()};return(l,E)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>[n.value==0?(o(),c("form",{key:0,class:"actioner-dns",onSubmit:lt(b,["prevent"])},[Nn,t("div",qn,[t("div",Un,[Hn,t("div",Rn,[L(t("input",{type:"text",placeholder:"192.168.100.1",required:"","onUpdate:modelValue":E[0]||(E[0]=h=>a.value.lanIp=h),onChange:f},null,544),[[Y,a.value.lanIp,void 0,{trim:!0}]])])]),t("div",Wn,[Gn,t("div",Zn,[L(t("input",{type:"text",placeholder:"255.255.255.0",required:"","onUpdate:modelValue":E[1]||(E[1]=h=>a.value.netMask=h),onChange:f},null,544),[[Y,a.value.netMask,void 0,{trim:!0}]])])]),r.value?(o(),c("div",jn,[x(zn,{modelValue:a.value.enableDhcp,"onUpdate:modelValue":E[2]||(E[2]=h=>a.value.enableDhcp=h)},{default:M(()=>[a.value.enableDhcp?(o(),c("span",Xn,"\u4FEE\u6539DHCP\u670D\u52A1")):(o(),c("span",Qn,"\u4FDD\u6301DHCP\u670D\u52A1\u8BBE\u7F6E"))]),_:1},8,["modelValue"])])):$("",!0),a.value.enableDhcp?(o(),c(N,{key:1},[t("div",Yn,[Kn,t("div",Jn,[L(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[3]||(E[3]=h=>a.value.dhcpStart=h)},null,512),[[Y,a.value.dhcpStart,void 0,{trim:!0}]])])]),t("div",ts,[es,t("div",us,[L(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[4]||(E[4]=h=>a.value.dhcpEnd=h)},null,512),[[Y,a.value.dhcpEnd,void 0,{trim:!0}]])])])],64)):$("",!0)]),t("div",ns,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:d.value}," \u786E\u8BA4 ",8,ss),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])],40,On)):n.value==1?(o(),c("div",os,[as,t("div",is,[s.value=="success"?(o(),c("div",ls,[cs,ds,t("a",{href:F.value,class:"NewAdress"},m(p.value)+"s\u540E \u8DF3\u8F6C\u65B0\u5730\u5740",9,rs)])):s.value=="fail"?(o(),c("div",_s,[ps,vs,hs,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:v}," \u6211\u77E5\u9053\u4E86 ")])):s.value=="timeout"?(o(),c("div",Fs,[ms,fs,Es,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:v}," \u5237\u65B0\u9875\u9762 ")])):$("",!0)])])):$("",!0)]),_:1},8,["Close"]))}});var gs=S(Cs,[["__scopeId","data-v-76799e09"]]);const fe=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=st(gs,{Close:()=>{n()}});u.mount(e);const n=()=>{u.unmount(),e.remove()};return{Close:n}};const yt=e=>(q("data-v-95c09170"),e=e(),U(),e),$s=["onSubmit"],bs=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),ys={class:"actioner-dns_body"},Ds={class:"label-item"},ks=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u9009\u9879")],-1)),Bs={class:"label-item_value"},ws=["disabled"],As=yt(()=>t("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1)),xs={class:"label-item"},Ss=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1)),Is={class:"label-item_value"},Ps=["onUpdate:modelValue"],Vs=yt(()=>t("div",{class:"label-item_key"},"\u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740",-1)),Ms={class:"label-item_value"},Ts=["onUpdate:modelValue"],Ls={key:1,class:"label-message"},zs={class:"actioner-dns_footer"},Os=["disabled"],Ns={key:1,class:"actioner-dns"},qs=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),Us=yt(()=>t("div",{class:"actioner-dns_body"},[t("div",{class:"config-message"},"DNS\u914D\u7F6E\u5DF2\u4FDD\u5B58")],-1)),Hs=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,n=C(0),a=je(),d=a.status,F=W(()=>a.status.proto!="static"),p=()=>{let D=d.dnsList||[];for(D=D.filter(v=>v);D.length<2;)D.push("");return D},r=C({interfaceName:d.defaultInterface||"",dnsProto:d.dnsProto||"manual",manualDnsIp:p()}),s=C(""),i=C(!1),_=()=>T(this,null,function*(){s.value="";let D={};switch(r.value.dnsProto){case"auto":break;case"manual":if(D.manualDnsIp=[],!r.value.manualDnsIp[0]){A.Error("\u81F3\u5C11\u9700\u8981\u586B\u5199\u4E00\u4E2ADNS");return}D.manualDnsIp=r.value.manualDnsIp.filter(l=>l);break}D.dnsProto=r.value.dnsProto,D.interfaceName=r.value.interfaceName;const v=A.Loading("\u914D\u7F6E\u4E2D...");try{const l=yield P.Guide.DnsConfig.POST(D);if(l!=null&&l.data){const{success:E,error:h}=l==null?void 0:l.data;h&&(s.value=h),(E==null||E==0)&&(A.Success("\u914D\u7F6E\u6210\u529F"),n.value=1)}}catch(l){s.value=l}v.Close()}),f=D=>{D.preventDefault(),u.Close&&u.Close()},b=D=>{location.reload()};return(D,v)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>[n.value==0?(o(),c("form",{key:0,class:"actioner-dns",onSubmit:lt(_,["prevent"])},[bs,t("div",ys,[t("div",Ds,[ks,t("div",Bs,[L(t("select",{"onUpdate:modelValue":v[0]||(v[0]=l=>r.value.dnsProto=l)},[t("option",{value:"auto",disabled:!F.value}," \u81EA\u52A8\u83B7\u53D6DNS ",8,ws),As],512),[[Et,r.value.dnsProto]])])]),r.value.dnsProto=="manual"?(o(!0),c(N,{key:0},K(r.value.manualDnsIp,(l,E)=>(o(),c("div",xs,[E==0?(o(),c(N,{key:0},[Ss,t("div",Is,[L(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165DNS\u5730\u5740",required:"","onUpdate:modelValue":h=>r.value.manualDnsIp[E]=h},null,8,Ps),[[Y,r.value.manualDnsIp[E],void 0,{trim:!0}]])])],64)):(o(),c(N,{key:1},[Vs,t("div",Ms,[L(t("input",{type:"text",placeholder:"\u5907\u7528DNS\u5730\u5740","onUpdate:modelValue":h=>r.value.manualDnsIp[E]=h},null,8,Ts),[[Y,r.value.manualDnsIp[E],void 0,{trim:!0}]])])],64))]))),256)):$("",!0),s.value?(o(),c("div",Ls,m(s.value),1)):$("",!0)]),t("div",zs,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:i.value}," \u786E\u8BA4 ",8,Os),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:f}," \u53D6\u6D88 ")])],40,$s)):n.value==1?(o(),c("div",Ns,[qs,Us,t("div",{class:"actioner-dns_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:b}," \u5B8C\u6210 ")])])):$("",!0)]),_:1},8,["Close"]))}});var Rs=S(Hs,[["__scopeId","data-v-95c09170"]]);const Ee=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=st(Rs,{Close:()=>{n()}});u.mount(e);const n=()=>{u.unmount(),e.remove()};return{Close:n}},Ws={},Gs={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Zs=t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),js=[Zs];function Xs(e,u){return o(),c("svg",Gs,js)}var dt=S(Ws,[["render",Xs]]);const ut=e=>(q("data-v-5141058a"),e=e(),U(),e),Qs={key:0,class:"actioner-dns"},Ys=ut(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u6C99\u7BB1\u6A21\u5F0F\u914D\u7F6E\u5411\u5BFC")],-1)),Ks={class:"actioner-dns_body"},Js=ut(()=>t("p",{class:"sandbox_info"}," \u4E00\u4E2A\u7B80\u6613\u6C99\u7BB1\uFF0C\u65B9\u4FBF\u7528\u6765\u5B9E\u9A8C\u7CFB\u7EDF\u914D\u7F6E\u548C\u7A0B\u5E8F\uFF0C\u65B9\u4FBF\u5F00\u53D1\u672A\u5B8C\u6210\u7684\u8F6F\u4EF6\uFF0C\u4F46\u4E0D\u4FDD\u62A4Docker\u548C\u786C\u76D8\u7684\u6570\u636E ",-1)),to={key:0,class:"disk_loading_icon"},eo=ut(()=>t("span",{class:"disk_loading_info"},"\u6B63\u5728\u52A0\u8F7D\u4E2D...",-1)),uo={key:1,class:"disk_tips"},no=ut(()=>t("span",null,"\u68C0\u6D4B\u4E0D\u5230\u6302\u8F7D\u7684\u78C1\u76D8\u4FE1\u606F\uFF0C\u8BF7\u5148\u63D2\u4E0A\u78C1\u76D8\uFF0C\u5EFA\u8BAE\u4F7F\u7528U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378",-1)),so={class:"label-item"},oo=ut(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u78C1\u76D8\uFF08\u5EFA\u8BAE\u9009\u62E9U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378\uFF09")],-1)),ao={class:"label-item_value"},io=ut(()=>t("option",{value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u78C1\u76D8",-1)),lo=["value"],co={class:"label-item"},ro=ut(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A\uFF08\u5206\u533A\u5927\u5C0F\u987B\u5927\u4E8E2G\uFF0C\u5C06\u6B64\u5206\u533A\u4F5C\u4E3A\u5916\u90E8 overlay \u4F7F\u7528\uFF09")],-1)),_o={class:"label-item_value"},po=ut(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u5206\u533A",-1)),vo=["value","disabled"],ho={class:"sandbox_tips"},Fo=ut(()=>t("span",null,"\u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E",-1)),mo={class:"sandbox_info timeout"},fo=ut(()=>t("p",{class:"sandbox_roboot_tips"},[Z(" \u7B49\u5F85\u8BBE\u5907\u91CD\u542F\uFF0C\u91CD\u542F\u5B8C\u6210\u540E"),t("span",{class:"sandbox_roboot_refresh"},"\u8BF7\u5237\u65B0\u754C\u9762")],-1)),Eo={key:0,class:"actioner-dns_footer"},Co=["disabled"],go={key:1,class:"actioner-tips"},$o=ut(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u6E29\u99A8\u63D0\u793A")],-1)),bo=ut(()=>t("div",{class:"actioner-tips_body"},[t("p",{class:"sandbox_info"}," \u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E\uFF0C\u5E76\u683C\u5F0F\u5316\u6210EXT4\uFF0C\u968F\u540E\u81EA\u52A8\u91CD\u542F\u8FDB\u5165\u6C99\u7BB1\u6A21\u5F0F\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F ")],-1)),yo={key:2,class:"actioner-tips"},Do=ut(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u9519\u8BEF")],-1)),ko={class:"actioner-tips_body"},Bo={class:"sandbox_info"},wo=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,n=C(0);C("disk");const a=C(""),d=C(3),F=C(""),p=C([]),r=C(""),s=C(null);(()=>{P.Nas.SandboxDisks.GET().then(h=>{var k;if(h!=null&&h.data&&(k=h.data)!=null&&k.result){s.value=h.data.result;return}throw"\u52A0\u8F7D\u78C1\u76D8\u4FE1\u606F\u5931\u8D25"}).catch(h=>{a.value=h,n.value=3})})();const _=()=>request.System.Reboot.POST({name:F.value,path:r.value}).then(h=>{var k;if(!(h!=null&&h.data&&(((k=h==null?void 0:h.data)==null?void 0:k.success)||0)==0))throw"\u672A\u77E5\u9519\u8BEF"}),f=h=>{var k,w;r.value="",p.value=F.value&&((w=(k=s.value)==null?void 0:k.disks.find(y=>y.path==F.value))==null?void 0:w.childrens)||[]},b=()=>{d.value>0&&(d.value-=1,window.setTimeout(b,1e3))},D=h=>{h.preventDefault(),u.Close&&u.Close()},v=()=>{new Promise((h,k)=>{const w="/luci-static/resources/icons/loading.gif",y=()=>{window.setTimeout(g,2e3)},g=()=>{const B=new Image;B.onload=h,B.onerror=y,B.src=w};window.setTimeout(g,1e4)}).then(()=>{window.setTimeout(()=>{location.reload()},2e3)})},l=h=>{const k=A.Loading("\u914D\u7F6E\u6C99\u7BB1\u91CD\u542F\u4E2D...");request.Nas.Sandbox.POST({path:r.value}).then(w=>{var y;if(w!=null&&w.data){if((w.data.success||0)==0)return n.value=2,window.setTimeout(b,1e3),_();if((y=w.data)!=null&&y.error)throw w.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).then(v).catch(w=>A.Warning(w)).finally(()=>k.Close())},E=()=>{n.value=0};return(h,k)=>{const w=jt("icon-loading");return o(),z(ot,{Close:e.Close,type:1},{default:M(()=>[n.value==0||n.value==2?(o(),c("div",Qs,[Ys,t("div",Ks,[Js,n.value==0?(o(),c(N,{key:0},[s.value?$("",!0):(o(),c("div",to,[x(w,{size:38,color:"currentColor"}),eo])),s.value&&s.value.disks.length==0?(o(),c("div",uo,[x(dt),no])):$("",!0),s.value&&s.value.disks.length>0?(o(),c(N,{key:2},[t("div",so,[oo,t("div",ao,[L(t("select",{name:"",id:"",onChange:f,"onUpdate:modelValue":k[0]||(k[0]=y=>F.value=y)},[io,(o(!0),c(N,null,K(s.value.disks,(y,g)=>(o(),c("option",{value:y.path,key:g},m(y.venderModel)+"\uFF08"+m(y.size)+"\uFF09 ",9,lo))),128))],544),[[Et,F.value]])])]),t("div",co,[ro,t("div",_o,[L(t("select",{name:"",id:"","onUpdate:modelValue":k[1]||(k[1]=y=>r.value=y)},[po,(o(!0),c(N,null,K(p.value,(y,g)=>(o(),c("option",{value:y.path,key:g,disabled:y.sizeInt<(1<<30)*1||y.isSystemRoot},m(y.name)+"\uFF08"+m(y.filesystem||"\u672A\u683C\u5F0F\u5316")+"\uFF09"+m(y.total),9,vo))),128))],512),[[Et,r.value]])])]),t("div",ho,[x(dt),Fo])],64)):$("",!0)],64)):$("",!0),n.value==2?(o(),c(N,{key:1},[t("p",mo,[Z(" \u5373\u5C06\u91CD\u542F\u8BBE\u5907 "),t("span",null,"\uFF08"+m(d.value)+"s\uFF09",1)]),fo],64)):$("",!0)]),n.value==0?(o(),c("div",Eo,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:!r.value,onClick:k[2]||(k[2]=y=>n.value=1)}," \u5F00\u542F\u6C99\u7BB1 ",8,Co),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])):$("",!0)])):$("",!0),n.value==1?(o(),c("div",go,[$o,bo,t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:l}," \u7EE7\u7EED "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):$("",!0),n.value==3?(o(),c("div",yo,[Do,t("div",ko,[t("p",Bo,m(a.value),1)]),t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):$("",!0)]),_:1},8,["Close"])}}});var Ao=S(wo,[["__scopeId","data-v-5141058a"]]);const xo=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=st(Ao,{Close:()=>{n()}});u.mount(e);const n=()=>{u.unmount(),e.remove()};return{Close:n}},So={},Io={width:"82px",height:"82px",viewBox:"0 0 82 82",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Po=Xt('<title>icon_finished</title><g id="icon_finished" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="circle" transform="translate(2.000000, 2.000000)"><circle id="Oval" stroke="#553AFE" stroke-width="4" cx="39" cy="39" r="39"></circle><circle id="Oval" fill="#553AFE" cx="39.028463" cy="39.028463" r="35.028463"></circle><path d="M41.0148619,52.8014169 C39.924327,53.7754409 39.8138203,55.4674462 40.7680384,56.5806164 C41.7222564,57.6937867 43.3798562,57.8065871 44.4703911,56.8325631 L54.9654709,47.4587599 C56.1301083,46.4185505 56.1643255,44.5807064 55.0392485,43.4960788 L31.4253189,20.7311283 C30.3718273,19.7155123 28.7112257,19.7639428 27.7162614,20.8393009 C26.7212971,21.914659 26.7687429,23.6097284 27.8222345,24.6253444 L49.3379698,45.3675358 L41.0148619,52.8014169 Z" id="Shape" fill="#FFFFFF" fill-rule="nonzero" transform="translate(41.430740, 38.747628) rotate(-270.000000) translate(-41.430740, -38.747628) "></path></g></g>',2),Vo=[Po];function Mo(e,u){return o(),c("svg",Io,Vo)}var Yt=S(So,[["render",Mo]]);const wt=e=>(q("data-v-5cf1870c"),e=e(),U(),e),To=["onSubmit"],Lo=wt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),zo={class:"actioner-dns_body"},Oo={class:"label-item"},No=wt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5F53\u524D\u8F6F\u4EF6\u6E90")],-1)),qo={class:"label-item_value"},Uo={class:"item_info"},Ho={class:"label-item"},Ro=wt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5207\u6362\u8F6F\u4EF6\u6E90")],-1)),Wo={class:"label-item_value"},Go=wt(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u8F6F\u4EF6\u6E90",-1)),Zo=["value"],jo={class:"actioner-dns_footer"},Xo=["disabled"],Qo={key:1,class:"actioner-dns"},Yo=wt(()=>t("div",{class:"actioner-dns_header"},[t("span",{class:"softsource_tit"},"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),Ko={class:"actioner-dns_body"},Jo={class:"finished"},ta=wt(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),ea=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,n=C(0),a=C(""),d=C(),F=C();(()=>{P.Guide.SoftSourceList.GET().then(_=>{var f,b;if((f=_==null?void 0:_.data)!=null&&f.result){const D=(b=_==null?void 0:_.data)==null?void 0:b.result;F.value=D}}).then(()=>P.Guide.GetSoftSource.GET()).then(_=>{var f,b;if((f=_==null?void 0:_.data)!=null&&f.result){const D=_.data.result;d.value=D.softSource,(b=F.value)!=null&&b.softSourceList.find(v=>v.identity==D.softSource.identity)&&(a.value=D.softSource.identity)}})})();const r=_=>{_.preventDefault(),u.Close&&u.Close()},s=_=>{const f=A.Loading("\u6B63\u5728\u5207\u6362\u4E2D...");request.Guide.SoftSource.POST({softSourceIdentity:a.value}).then(b=>{if(b!=null&&b.data){if((b.data.success||0)==0){n.value=1;return}else if(b.data.error)throw b.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(b=>{A.Error(b)}).finally(()=>f.Close())},i=_=>{_.preventDefault(),location.reload()};return(_,f)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>{var b,D;return[n.value==0?(o(),c("form",{key:0,class:"actioner-dns",onSubmit:lt(s,["prevent"])},[Lo,t("div",zo,[t("div",Oo,[No,t("div",qo,[t("p",Uo,m((b=d.value)==null?void 0:b.name),1)])]),t("div",Ho,[Ro,t("div",Wo,[L(t("select",{name:"",id:"","onUpdate:modelValue":f[0]||(f[0]=v=>a.value=v)},[Go,(o(!0),c(N,null,K((D=F.value)==null?void 0:D.softSourceList,(v,l)=>(o(),c("option",{value:v.identity,key:l},m(v.name),9,Zo))),128))],512),[[Et,a.value,void 0,{trim:!0}]])])])]),t("div",jo,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:a.value==""}," \u786E\u8BA4 ",8,Xo),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:r}," \u53D6\u6D88 ")])],40,To)):$("",!0),n.value==1?(o(),c("form",Qo,[Yo,t("div",Ko,[t("div",Jo,[x(Yt)]),ta,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply softsource_successed",onClick:i}," \u786E\u5B9A ")])])])):$("",!0)]}),_:1},8,["Close"]))}});var ua=S(ea,[["__scopeId","data-v-5cf1870c"]]);const Ce=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=st(ua,{Close:()=>{n()}});u.mount(e);const n=()=>{u.unmount(),e.remove()};return{Close:n}};const na={class:"utilities"},sa=V({__name:"index",setup(e){const u=C(!1),n=C(),a=()=>{window.location.href="/cgi-bin/luci/admin/system/ota"},d=()=>{n.value.status=="unsupport"&&alert("\u8BE5\u56FA\u4EF6\u4E0D\u652F\u6301\u6C99\u7BB1\u6A21\u5F0F"),n.value.status=="stopped"&&xo()},F=()=>T(this,null,function*(){try{if((yield P.Quickstart.Guide.GlobalFolders.GET()).status!==200)return}catch(i){console.log(i);return}u.value=!0;try{const i=yield P.Storage.Get.POST({key:"nas_guide_init"});if(i.data){const{success:_,error:f,result:b}=i.data;if(b&&b.key=="nas_guide_init")return}}catch(i){return}p()}),p=()=>{if(!u.value){A.Warning("\u8BF7\u5148\u66F4\u65B0\u7CFB\u7EDF\u5230\u6700\u65B0\u7248\u672C");return}we.OpenGuideWindow()},r=()=>{var i,_,f,b;window.open(`${(_=(i=window.quickstart_configs)==null?void 0:i.ttyd)!=null&&_.ssl?"https":"http"}://${window.location.hostname}:${((b=(f=window.quickstart_configs)==null?void 0:f.ttyd)==null?void 0:b.port)||7681}/`,"_blank")};return(()=>{P.Nas.GetSandbox.GET().then(i=>{var _;console.log("getSandBox",i),(_=i==null?void 0:i.data)!=null&&_.result&&(n.value=i.data.result)}).catch(i=>A.Warning(i))})(),F(),(i,_)=>(o(),z(ft,{title:i.$t("\u5E38\u7528\u5DE5\u5177")},{default:M(()=>{var f;return[t("div",na,[t("div",{onClick:r},[t("span",null,"\u300B"+m(i.$t("\u7EC8\u7AEF")),1)]),t("div",{onClick:a},[t("span",null,m(i.$t("\u56FA\u4EF6\u66F4\u65B0")),1)]),t("div",{onClick:_[0]||(_[0]=(...b)=>R(fe)&&R(fe)(...b))},[t("span",null,m(i.$t("\u5185\u7F51\u914D\u7F6E")),1)]),t("div",{onClick:_[1]||(_[1]=(...b)=>R(Ee)&&R(Ee)(...b))},[t("span",null,m(i.$t("DNS\u914D\u7F6E")),1)]),t("div",{onClick:_[2]||(_[2]=(...b)=>R(Ce)&&R(Ce)(...b))},[t("span",null,m(i.$t("\u8F6F\u4EF6\u6E90\u914D\u7F6E")),1)]),t("div",{onClick:d},[t("span",null,m(((f=n.value)==null?void 0:f.status)=="running"?i.$t("\u6C99\u7BB1\u5DF2\u5F00\u542F"):i.$t("\u5F00\u542F\u6C99\u7BB1")),1)])])]}),_:1},8,["title"]))}});var oa=S(sa,[["__scopeId","data-v-47b0529a"]]),aa="/luci-static/istorex/network.svg?v=3025665f",ia="/luci-static/istorex/device.svg?v=9068551e";const la={},ca={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},da=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.375 12C3.375 12.4973 3.57254 12.9742 3.92417 13.3258C4.27581 13.6775 4.75272 13.875 5.25 13.875C5.74728 13.875 6.22419 13.6775 6.57583 13.3258C6.92746 12.9742 7.125 12.4973 7.125 12C7.125 11.5027 6.92746 11.0258 6.57583 10.6742C6.22419 10.3225 5.74728 10.125 5.25 10.125C4.75272 10.125 4.27581 10.3225 3.92417 10.6742C3.57254 11.0258 3.375 11.5027 3.375 12ZM10.125 12C10.125 12.4973 10.3225 12.9742 10.6742 13.3258C11.0258 13.6775 11.5027 13.875 12 13.875C12.4973 13.875 12.9742 13.6775 13.3258 13.3258C13.6775 12.9742 13.875 12.4973 13.875 12C13.875 11.5027 13.6775 11.0258 13.3258 10.6742C12.9742 10.3225 12.4973 10.125 12 10.125C11.5027 10.125 11.0258 10.3225 10.6742 10.6742C10.3225 11.0258 10.125 11.5027 10.125 12ZM17.4242 13.3258C17.0725 12.9742 16.875 12.4973 16.875 12C16.875 11.5027 17.0725 11.0258 17.4242 10.6742C17.7758 10.3225 18.2527 10.125 18.75 10.125C19.2473 10.125 19.7242 10.3225 20.0758 10.6742C20.4275 11.0258 20.625 11.5027 20.625 12C20.625 12.4973 20.4275 12.9742 20.0758 13.3258C19.7242 13.6775 19.2473 13.875 18.75 13.875C18.2527 13.875 17.7758 13.6775 17.4242 13.3258Z",fill:"black","fill-opacity":"0.8"},null,-1),ra=[da];function _a(e,u){return o(),c("svg",ca,ra)}var pa=S(la,[["render",_a]]);const va=e=>(q("data-v-21e54302"),e=e(),U(),e),ha={key:0,class:"title"},Fa=["href"],ma=va(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 14C3.1338 14 0 10.8662 0 7C0 3.1338 3.1338 0 7 0C10.8662 0 14 3.1338 14 7C14 10.8662 10.8662 14 7 14ZM7 10.9375C7.25944 10.9375 7.46988 10.8535 7.63175 10.6859C7.79362 10.5179 7.875 10.3101 7.875 10.0625C7.875 9.81487 7.79407 9.61099 7.63175 9.45131C7.46987 9.29119 7.25944 9.20368 7 9.1875C6.65962 9.20369 6.4085 9.3555 6.24663 9.64292C6.08475 9.93081 6.08475 10.2182 6.24663 10.5061C6.4085 10.7936 6.65962 10.9375 7 10.9375ZM7.67025 8.07931C7.67025 8.02901 7.65275 7.88463 7.65493 7.90519C7.637 7.72319 7.66107 7.56131 7.76081 7.40513C7.83344 7.29094 7.94588 7.18375 8.11388 7.08444C9.10175 6.50081 9.46312 5.85068 9.44256 5.17431C9.41195 4.16106 8.66556 3.16663 7.04682 3.15218C5.69361 3.1395 4.80418 3.79312 4.59376 5.02031C4.56892 5.18979 4.61132 5.36226 4.71192 5.50089C4.81251 5.63952 4.96332 5.73333 5.13214 5.76229C5.30096 5.79124 5.47441 5.75305 5.61545 5.65586C5.75649 5.55867 5.85394 5.41019 5.88699 5.24212C5.98282 4.6865 6.29388 4.4577 7.03456 4.46425C7.84699 4.47169 8.11956 4.83481 8.13094 5.21325C8.13376 5.27833 8.11633 5.34268 8.08106 5.39744C7.9905 5.56018 7.79405 5.7492 7.44669 5.95438C7.10324 6.15694 6.83899 6.40894 6.6535 6.70032C6.36518 7.15313 6.3022 7.60113 6.35119 8.05656C6.35862 8.12525 6.35776 8.1165 6.35776 8.07932C6.35734 8.16577 6.374 8.25145 6.4068 8.33143C6.43959 8.41142 6.48786 8.48414 6.54884 8.54542C6.60982 8.60669 6.6823 8.65532 6.76213 8.68849C6.84196 8.72167 6.92756 8.73875 7.014 8.73875C7.10045 8.73875 7.18605 8.72167 7.26587 8.68849C7.3457 8.65532 7.41819 8.60669 7.47917 8.54542C7.54015 8.48414 7.58842 8.41142 7.62121 8.33143C7.654 8.25145 7.67067 8.16575 7.67025 8.07931Z",fill:"#E1B8B2"})],-1)),fa=[ma],Ea={class:"toolbar"},Ca={key:1,class:"more-icon"},ga={class:"actions"},$a=["onClick"],ba=V({__name:"index",props:{span:{},height:{},title:{},padding:{},helpLink:{},moreActions:{},action:{}},setup(e){const u=e,n=C(!1),a=()=>{n.value=!n.value},d=mt({width:`calc(${u.span*100/24}% - 10px)`,height:u.height+"px"});return(F,p)=>{var r,s,i;return o(),c("div",{class:"card",style:tt(d)},[t("div",null,[u.title?(o(),c("div",ha,[t("span",null,m(u.title),1),u.helpLink?(o(),c("a",{key:0,href:u.helpLink,target:"_blank"},fa,8,Fa)):$("",!0),t("div",Ea,[u.action&&u.action.show!==!1?(o(),c("div",{key:0,class:"action",onClick:p[0]||(p[0]=(..._)=>{var f,b;return((f=u.action)==null?void 0:f.onClick)&&((b=u.action)==null?void 0:b.onClick(..._))})},m((r=u.action)==null?void 0:r.text),1)):$("",!0),(i=(s=u.moreActions)==null?void 0:s.filter(({show:_})=>_!==!1))!=null&&i.length?(o(),c("span",Ca,[x(pa,{onClick:a})])):$("",!0),L(t("div",ga,[t("div",{class:"menu_background",onClick:a}),t("ul",null,[(o(!0),c(N,null,K(u.moreActions,_=>(o(),c("li",{onClick:_.onClick},m(_.text),9,$a))),256))])],512),[[ke,n.value]])])])):$("",!0),t("div",{class:"card-body",style:tt(`padding:${u.padding}`)},[bt(F.$slots,"default",{},void 0,!0)],4)])],4)}}});var j=S(ba,[["__scopeId","data-v-21e54302"]]);const ya={class:"flow"},Da={class:"flow-data"},ka={key:0},Ba={key:1},wa=V({__name:"flow-chart",setup(e){su([ou,au,iu,lu,cu,du]);const u=C(),n=D=>{var l;const v=(l=u.value)==null?void 0:l[D];return!v||v.startTime==0?"":s(v.startTime*1e3)+"-"+s(v.endTime*1e3)},a=W(()=>{var v;let D=[];return(v=u.value)==null||v.forEach(l=>{D.push({value:l.uploadSpeed})}),D}),d=W(()=>{var v;let D=[];return(v=u.value)==null||v.forEach(l=>{D.push({value:l.downloadSpeed})}),D}),F=W(()=>{var v;let D="";if(u.value){let l=((v=u.value)==null?void 0:v.length)||0;if(l>0){let E=u.value[l-1];D=i(E.uploadSpeed)+"/s"}}return D}),p=W(()=>{var v;let D="";if(u.value){let l=((v=u.value)==null?void 0:v.length)||0;if(l>0){let E=u.value[l-1];D=i(E.downloadSpeed)+"/s"}}return D});W(()=>{var v;let D=[];return(v=u.value)==null||v.forEach(l=>{D.push({value:l.downloadSpeed+l.uploadSpeed})}),D});const r=()=>T(this,null,function*(){var D;try{const v=yield P.Network.Statistics.GET();if(v.data&&(D=v.data.result)!=null&&D.items){const l=v.data.result.slots||10;if(v.data.result.items.length<l){let E=v.data.result.items;for(;E.length<l;)E=[{downloadSpeed:0,endTime:0,startTime:0,uploadSpeed:0}].concat(E);u.value=E}else v.data.result.items.length>l?u.value=v.data.result.items.slice(l-v.data.result.items.length):u.value=v.data.result.items}}catch(v){console.log(v)}}),s=Nt.dateForm,i=Nt.byteToSize,_=C();let f=null;const b=D=>(f=ru(D,"dark"),f.setOption({animation:!1,backgroundColor:"transparent",color:["transparent","transparent"],tooltip:{trigger:"axis",formatter:v=>{if(Array.isArray(v)){let l="";v.length>0&&(l=n(v[0].axisValue));for(let E=0;E<v.length;E++)l=`${l}<br>${v[E].seriesName}: ${i(v[E].value)}/s`;return l.toString()}else{const l=v;return`${n(l.axisValue)}<br>${l.seriesName}: ${i(l.value)}/s`}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{lineStyle:{color:["#999"]},show:!1},name:"",show:!1,nameGap:0,nameTextStyle:{height:0,lineHeight:0,padding:0}},yAxis:{type:"value",name:"",minInterval:1e4,interval:1e3,axisLabel:{formatter:function(v,l){return`${i(v)}/s`},color:"#fff",show:!1},nameTextStyle:{color:"#fff"},splitLine:{lineStyle:{color:["#999"]},show:!1}},series:[{name:"\u4E0B\u8F7D",data:d.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(32, 199, 247, 1)"},{offset:1,color:"rgba(32, 199, 247, 0.1)"}],global:!1}}},{name:"\u4E0A\u4F20",data:a.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(85, 58, 254, 1)"},{offset:1,color:"rgba(85, 58, 254, 0.1)"}],global:!1}}}],grid:{left:"0%",right:"0%",bottom:"0%",top:"0w",containLabel:!0}}),f);return et(()=>{setTimeout(()=>T(this,null,function*(){if(_.value){yield r();const D=b(_.value),v=_.value;D.resize({width:v.clientWidth,height:v.clientHeight}),window.addEventListener("resize",()=>{D.resize({width:v.clientWidth,height:v.clientHeight})});const l=()=>T(this,null,function*(){f!=null&&(yield r(),f!=null&&(D.setOption({series:[{name:"\u4E0B\u8F7D",data:d.value,type:"line",areaStyle:{},smooth:!0},{name:"\u4E0A\u4F20",data:a.value,type:"line",areaStyle:{},smooth:!0}]}),setTimeout(l,5e3)))});setTimeout(l,5e3)}}),900)}),Bt(()=>{f!=null&&(f.dispose(),f=null)}),(D,v)=>(o(),c("div",ya,[t("div",{ref_key:"el",ref:_,class:"echart"},null,512),t("div",Da,[F.value?(o(),c("span",ka,m(D.$t("\u4E0A\u4F20"))+": "+m(F.value),1)):$("",!0),p.value?(o(),c("span",Ba,m(D.$t("\u4E0B\u8F7D"))+": "+m(p.value),1)):$("",!0)])]))}});var Aa=S(wa,[["__scopeId","data-v-475e377c"]]);const Pe=e=>(q("data-v-39628bee"),e=e(),U(),e),xa={class:"width-45 responsive"},Sa={class:"width-55 responsive"},Ia={class:"network"},Pa=Pe(()=>t("img",{src:aa,alt:"network"},null,-1)),Va={class:"device"},Ma=Pe(()=>t("img",{src:ia,alt:"device"},null,-1)),Ta={class:"ip-dns"},La={class:"title"},za={class:"ip"},Oa={class:"title"},Na={class:"dns"},qa=V({__name:"index",setup(e){const u=Nt.stampForm,n=s=>{switch(s){case"pppoe":return ct.global.t("\u62E8\u53F7\u4E0A\u7F51");case"static":return ct.global.t("\u9759\u6001\u7F51\u7EDC");case"dhcp":return"DHCP"}return s&&s.toUpperCase()},a=s=>{switch(s){case"manual":return ct.global.t("\u624B\u52A8\u914D\u7F6E");case"auto":return ct.global.t("\u81EA\u52A8\u83B7\u53D6");default:return""}},d=mt({ipv4addr:"",ipv6addr:"",internetConnected:!1,proto:"",dnsProto:"",dnsList:[],uptimeStamp:0}),F=C({devices:[]}),p=()=>T(this,null,function*(){P.Network.Status.GET().then(s=>{if(s!=null&&s.data){const{result:i}=s==null?void 0:s.data;i&&(d.ipv4addr=i.ipv4addr,d.proto=i.proto,d.dnsProto=i.dnsProto,d.ipv6addr=i.ipv6addr,d.dnsList=i.dnsList,d.uptimeStamp=i.uptimeStamp,window.setInterval(()=>{d.uptimeStamp&&(d.uptimeStamp=d.uptimeStamp+1)},1e3))}})}),r=()=>T(this,null,function*(){P.Network.Device.List.GET().then(s=>{if(s!=null&&s.data){const{result:i}=s==null?void 0:s.data;F.value={devices:(i==null?void 0:i.devices)||[]}}})});return p(),r(),(s,i)=>(o(),z(ft,null,{default:M(()=>[t("div",xa,[x(j,{title:s.$t("\u6D41\u91CF\u7EDF\u8BA1"),span:24,padding:"0 8px"},{default:M(()=>[x(Aa)]),_:1},8,["title"])]),t("div",Sa,[x(j,{span:12},{default:M(()=>[t("div",Ia,[Pa,t("div",null,[t("span",null,m(s.$t("\u5DF2\u8FDE\u63A5\u4E92\u8054\u7F51")),1),t("span",null,m(R(u)(d.uptimeStamp)),1)])])]),_:1}),x(j,{span:12},{default:M(()=>{var _;return[t("div",Va,[Ma,t("div",null,[t("span",null,m(s.$t("\u5DF2\u8FDE\u63A5\u8BBE\u5907")),1),t("span",null,m(`${(_=F.value.devices)==null?void 0:_.length}${s.$t("\u53F0")}`),1)])])]}),_:1}),x(j,{span:24},{default:M(()=>[t("div",Ta,[t("span",La,m(s.$t("IP\u5730\u5740")),1),t("div",za,[t("span",null,m(`IPv4\uFF1A${d.ipv4addr}\uFF08${n(d.proto||"")}\uFF09`),1),t("span",null,m(`IPv6\uFF1A${d.ipv6addr||"-"}`),1)]),t("span",Oa,m(`DNS\uFF08${a(d.dnsProto||"")}\uFF09`),1),t("div",Na,[(o(!0),c(N,null,K(d.dnsList,_=>(o(),c("span",null,m(_),1))),256))])])]),_:1})])]),_:1}))}});var Ua=S(qa,[["__scopeId","data-v-39628bee"]]),Ha="/luci-static/istorex/open.svg?v=84274947",Ra="/luci-static/istorex/info.svg?v=7035c5f2";const gt=e=>(q("data-v-bd2acf72"),e=e(),U(),e),Wa=["onSubmit"],Ga=gt(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"},"\u786C\u76D8\u914D\u7F6E")],-1)),Za={class:"action-body"},ja={class:"disk-info"},Xa=gt(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),Qa={key:0,class:"disk-info_mount-name"},Ya={key:1,class:"disk-info_mount-name"},Ka={key:0,class:"label-item"},Ja=gt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),ti={class:"label-item_path"},ei={class:"label-item"},ui=gt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u683C\u5F0F\u5316\u9009\u9879")],-1)),ni={class:"label-item_value"},si=["disabled"],oi={key:0,value:""},ai=gt(()=>t("option",{value:"format"},"\u683C\u5F0F\u5316",-1)),ii={key:1,value:"default"},li={class:"label-item_value"},ci={key:0,class:"msg"},di={key:1,class:"msg"},ri={class:"action-footer"},_i=gt(()=>t("div",{class:"auto"},null,-1)),pi=["disabled"],vi=["disabled"],hi={key:1,class:"action result"},Fi={class:"action-body"},mi=gt(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),fi=gt(()=>t("div",{class:"action-body_msg"},"\u683C\u5F0F\u5316\u6210\u529F",-1)),Ei={key:0,class:"action-body_info"},Ci={key:1,class:"action-body_info"},gi={class:"btns"},$i=V({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,n=()=>{u.Close&&u.Close()},a=h=>{h.preventDefault(),u.Cancel&&u.Cancel(),n()},d=h=>{u.Next&&u.Next(h),n()},F=C(!1),p=C(0),r=h=>{p.value=h},s=C(u.action=="nas"?"":"format"),i=C(),_=C(),f=()=>{switch(s.value){case"format":D();return;case"default":b();return;default:A.Warning("\u8BF7\u9009\u62E9\u9009\u7EBF");return}},b=()=>{let h="";const k=u.mount;if(k!=null&&k.mountPoint!=null&&(h=k.mountPoint),h!=""){d(h);return}A.Warning("\u65E0\u6CD5\u8BC6\u522B\u8DEF\u5F84")},D=()=>{const h=u.disk,k=u.mount;if(k){const w=k.mountPoint||k.path;if(!confirm(`\u8B66\u544A\uFF1A\u683C\u5F0F\u5316\u4F1A\u6E05\u7A7A ${w} \u5206\u533A\u6570\u636E\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm(`\u662F\u5426\u786E\u5B9A\u683C\u5F0F\u5316 ${w}?`))return;l(k);return}if(h){if(!confirm(`\u8B66\u544A\uFF1A\u8BE5\u64CD\u4F5C\u5C06\u521D\u59CB\u5316 ${h.venderModel} \u786C\u76D8\u5E76\u521B\u5EFA\u5206\u533A\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm("\u662F\u5426\u786E\u5B9A\u521D\u59CB\u5316?"))return;v(h);return}A.Warning("\u65E0\u6CD5\u8BC6\u522B\u6570\u636E")},v=h=>T(this,null,function*(){if(h.name==null||h.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u540D\u79F0");return}if(h.path==null||h.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u8DEF\u5F84");return}F.value=!0;const k=A.Loading("\u521D\u59CB\u5316\u4E2D...");try{const w=yield P.Nas.Disk.Init.POST({name:h.name,path:h.path});if(w!=null&&w.data){const{result:y,error:g}=w==null?void 0:w.data;g&&A.Warning(g),y&&(y.errorInfo?A.Warning(y.errorInfo):(A.Success("\u521D\u59CB\u5316\u6210\u529F"),y.childrens&&y.childrens.length>0&&(_.value=y.childrens[0]),i.value=y,r(1)))}}catch(w){A.Error(w)}k.Close(),F.value=!1}),l=h=>T(this,null,function*(){if(h.path==null||h.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}F.value=!0;const k=A.Loading("\u683C\u5F0F\u5316\u4E2D...");try{const w=yield P.Nas.Disk.Partition.Format.POST({path:h.path,uuid:h.uuid,mountPoint:h.mountPoint});if(w!=null&&w.data){const{result:y,error:g}=w==null?void 0:w.data;g&&A.Warning(g),y&&(A.Success("\u683C\u5F0F\u5316\u6210\u529F"),_.value=y,r(1))}}catch(w){A.Error(w)}k.Close(),F.value=!1}),E=()=>{if(_.value&&_.value.mountPoint){d(_.value.mountPoint);return}A.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")};return(h,k)=>(o(),z(ot,{type:1},{default:M(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:M(()=>{var w;return[p.value==0?(o(),c("form",{key:0,class:"action format",onSubmit:lt(f,["prevent"])},[Ga,t("div",Za,[t("div",ja,[Xa,e.mount?(o(),c("div",Qa,[t("span",null,"\u3010"+m(e.mount.total)+"\u3011",1),t("span",null,m(e.mount.mountPoint||e.mount.path),1)])):e.disk?(o(),c("div",Ya,[t("span",null,"\u3010"+m(e.disk.size)+"\u3011",1),t("span",null,m(e.disk.venderModel),1)])):$("",!0)]),e.mount?(o(),c("div",Ka,[Ja,t("div",ti,m(e.mount.mountPoint||e.mount.path)+"\uFF08"+m(e.mount.total)+"\uFF09 ",1)])):$("",!0),t("div",ei,[ui,t("div",ni,[L(t("select",{"onUpdate:modelValue":k[0]||(k[0]=y=>s.value=y),required:"",disabled:e.action=="disk"},[e.mount!=null?(o(),c("option",oi,"\u8BF7\u9009\u62E9\u9009\u9879")):$("",!0),ai,e.mount!=null?(o(),c("option",ii," \u4E0D\u683C\u5F0F\u5316,\u4F7F\u7528\u539F\u6587\u4EF6\u7CFB\u7EDF ")):$("",!0)],8,si),[[Et,s.value]])]),t("div",li,[s.value=="format"?(o(),c("p",ci," \u683C\u5F0F\u5316\u4E3AEXT4\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F20\u8F93\u901F\u5EA6\u66F4\u5FEB ")):s.value=="default"?(o(),c("p",di)):$("",!0)])])]),t("div",ri,[_i,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:a,type:"button",disabled:F.value}," \u8FD4\u56DE ",8,pi),t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:F.value}," \u4E0B\u4E00\u6B65 ",8,vi)])],40,Wa)):p.value==1?(o(),c("div",hi,[t("div",Fi,[mi,fi,i.value?(o(),c("div",Ei,[Z(" \u5DF2\u7ECF\u6210\u529F\u683C\u5F0F\u5316\u78C1\u76D8 "+m(i.value.venderModel)+" \u5E76\u6302\u8F7D\u5230 ",1),t("a",null,m((w=_.value)==null?void 0:w.mountPoint),1)])):$("",!0),_.value?(o(),c("div",Ci,[Z(" \u5DF2\u7ECF\u6210\u529F\u521D\u59CB\u5316\u5206\u533A "),t("a",null,m(_.value.mountPoint),1)])):$("",!0),t("div",gi,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:E},m(e.action=="nas"?"\u4E0B\u4E00\u6B65":"\u5B8C\u6210"),1)])])])):$("",!0)]}),_:1})]),_:1}))}});var bi=S($i,[["__scopeId","data-v-bd2acf72"]]),Ve=e=>{const u=document.createElement("div");document.body.appendChild(u);const n=st(bi,ht(vt({},e),{Close:()=>{a()}}));n.mount(u);const a=()=>{n.unmount(),u.remove()};return{Close:a}};const Dt=e=>(q("data-v-3a7479d2"),e=e(),U(),e),yi=["onSubmit"],Di=Dt(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"})],-1)),ki={class:"action-body"},Bi={class:"disk-info"},wi=Dt(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),Ai={key:0,class:"disk-info_mount-name"},xi={key:1,class:"disk-info_mount-name"},Si={key:0,class:"label-item"},Ii=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),Pi={class:"label-item_path"},Vi={class:"label-item"},Mi=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u6302\u8F7D\u70B9")],-1)),Ti={class:"label-item_value"},Li={class:"action-footer"},zi=Dt(()=>t("div",{class:"auto"},null,-1)),Oi=["disabled"],Ni=["disabled"],qi={key:1,class:"action result"},Ui={class:"action-body"},Hi=Dt(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),Ri=Dt(()=>t("div",{class:"action-body_msg"},"\u6302\u8F7D\u6210\u529F",-1)),Wi={key:0,class:"action-body_info"},Gi={class:"btns"},Zi=V({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){var D;const u=e,n=()=>{u.Close&&u.Close()},a=v=>{v.preventDefault(),u.Cancel&&u.Cancel(),n()},d=v=>{u.Next&&u.Next(v),n()},F=C(!1),p=C(0),r=C("/mnt/data_"+((D=u==null?void 0:u.mount)==null?void 0:D.name)),s=v=>{p.value=v};C(u.mount?"":"format"),C();const i=C(),_=()=>T(this,null,function*(){const v=u.mount;if(v==null){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A");return}if(v.path==null||v.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}if(v.uuid==null||v.uuid==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533AID");return}F.value=!0;const l=A.Loading("\u6302\u8F7D\u4E2D...");try{const E=yield P.Nas.Disk.Partition.Mount.POST({path:v.path,uuid:v.uuid,mountPoint:r.value});if(E!=null&&E.data){const{result:h,error:k}=E==null?void 0:E.data;k&&A.Warning(k),h&&(A.Success("\u6302\u8F7D\u6210\u529F"),i.value=h,s(1))}}catch(E){A.Error(E)}l.Close(),F.value=!1}),f=()=>{if(i.value&&i.value.mountPoint){d(i.value.mountPoint);return}A.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")},b=()=>{};return(v,l)=>(o(),z(ot,{type:1},{default:M(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:M(()=>{var E,h;return[p.value==0?(o(),c("form",{key:0,class:"action format",onSubmit:lt(b,["prevent"])},[Di,t("div",ki,[t("div",Bi,[wi,e.mount?(o(),c("div",Ai,[t("span",null,"\u3010"+m(e.mount.total)+"\u3011",1),t("span",null,m(e.mount.mountPoint),1)])):e.disk?(o(),c("div",xi,[t("span",null,"\u3010"+m(e.disk.size)+"\u3011",1),t("span",null,m(e.disk.venderModel),1)])):$("",!0)]),e.mount?(o(),c("div",Si,[Ii,t("div",Pi,m(e.mount.path)+"\uFF08"+m(e.mount.total)+"\uFF0C"+m((h=(E=e.mount)==null?void 0:E.filesystem)==null?void 0:h.toUpperCase())+"\uFF09 ",1)])):$("",!0),t("div",Vi,[Mi,t("div",Ti,[L(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=k=>r.value=k)},null,512),[[Y,r.value,void 0,{trim:!0}]])])])]),t("div",Li,[zi,t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:F.value,onClick:_}," \u786E\u5B9A ",8,Oi),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:a,type:"button",disabled:F.value}," \u8FD4\u56DE ",8,Ni)])],40,yi)):p.value==1?(o(),c("div",qi,[t("div",Ui,[Hi,Ri,i.value?(o(),c("div",Wi,[Z(" \u5DF2\u6210\u529F\u5C06\u5206\u533A "+m(i.value.path)+" \u6302\u8F7D\u5230 ",1),t("a",null,m(i.value.mountPoint),1)])):$("",!0),t("div",Gi,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:f},m(e.action=="nas"?"\u5B8C\u6210":"\u4E0B\u4E00\u6B65"),1)])])])):$("",!0)]}),_:1})]),_:1}))}});var ji=S(Zi,[["__scopeId","data-v-3a7479d2"]]),Me=e=>{const u=document.createElement("div");document.body.appendChild(u);const n=st(ji,ht(vt({},e),{Close:()=>{a()}}));n.mount(u);const a=()=>{n.unmount(),u.remove()};return{Close:a}};const Xi={class:"progress"},Qi=V({__name:"index",props:{value:{type:Number,required:!0},text:{type:String}},setup(e){const u=e,n=W(()=>u.value>=80?"#e45e5e":u.value>=70?"#ff9800":u.value>=60?"#297ff3":u.value>0?"#53c31b":"");return(a,d)=>(o(),c("div",Xi,[t("div",{class:Qt(["progress-value",`${e.value>50}`]),style:tt({width:`${e.value}%`,backgroundColor:n.value})},[t("span",null,m(e.text),1)],6),bt(a.$slots,"default",{},void 0,!0)]))}});var Yi=S(Qi,[["__scopeId","data-v-733828e1"]]);const Te=e=>(q("data-v-4b3c5909"),e=e(),U(),e),Ki={class:"disk-content"},Ji={class:"disk-item"},tl={class:"disk-item_name"},el={key:0},ul={key:1},nl={key:2},sl={class:"disk_value"},ol={key:0,class:"disk-item_value"},al={class:"value-data"},il={key:1,class:"disk-item_value"},ll={key:0,class:"disk-item"},cl={class:"disk-item_name"},dl=["href"],rl={class:"disk_status"},_l={class:"disk_status_item"},pl={key:0,class:"tooltip-trigger disk_tip"},vl=Te(()=>t("div",{class:"tooltip-text tooltip-top"},[t("div",{class:"disk_dir_tip"}," \u5F53\u524D\u78C1\u76D8\u4E3A\u53EA\u8BFB\u72B6\u6001\uFF0C\u53EF\u80FD\u5BFC\u81F4\u65E0\u6CD5\u5199\u5165\u6570\u636E ")],-1)),hl={class:"disk_status_item"},Fl={key:0,class:"tooltip-trigger disk_tip"},ml=Te(()=>t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5F53\u524D\u78C1\u76D8\u786C\u76D8\u683C\u5F0F\u4E3ANTFS\uFF0C\u53EF\u80FD\u5BFC\u81F4\u786C\u76D8\u51FA\u73B0\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u5EFA\u8BAE\u683C\u5F0F\u5316\u6210EXT4\u6587\u4EF6\u7CFB\u7EDF")],-1)),fl=V({__name:"item",props:{part:{type:Object,required:!0},disk:{type:Object,required:!0}},setup(e){const u=e,n=W(()=>u.part.filesystem=="No FileSystem"),a=W(()=>n.value||!u.part.isSystemRoot&&u.part.mountPoint&&(u.part.isReadOnly||u.part.filesystem=="ntfs")),d=function(){Ve({action:"disk",disk:u.disk,mount:u.part,Cancel:()=>{},Next:i=>{location.reload()}})},F=()=>{Me({action:"nas",disk:u.disk,mount:u.part,Cancel:()=>{},Next:()=>{location.reload()}})},p=()=>T(this,null,function*(){const i=A.Loading("\u5904\u7406\u4E2D...");try{const _=yield P.Nas.Disk.InitRest.POST({name:u.disk.name,path:u.disk.path});if(_!=null&&_.data){const{result:f,error:b}=_==null?void 0:_.data;b&&A.Warning(b),f&&(A.Success("\u6302\u8F7D\u6210\u529F"),location.reload())}}catch(_){A.Error(_)}i.Close()}),r=W(()=>u.part.filesystem=="Free Space"),s=W(()=>{const i=u.part.mountPoint?u.part.mountPoint:"";return i.indexOf("/mnt/")==0?"/cgi-bin/luci/admin/services/linkease/file/?path=/"+i.substring(5):"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+i});return(i,_)=>{var b;const f=jt("progress-item");return o(),c("div",Ki,[t("li",Ji,[t("div",tl,[r.value?(o(),c("span",el,"\u672A\u5206\u533A")):(o(),c("span",ul,m(e.part.name)+m(e.part.mountPoint?"":n.value?"\uFF08\u672A\u683C\u5F0F\u5316\uFF09":"\uFF08\u672A\u6302\u8F7D\uFF09"),1)),e.part.isSystemRoot?(o(),c("span",nl,"\uFF08\u7CFB\u7EDF\u5206\u533A\uFF09")):$("",!0)]),t("div",sl,[e.part.mountPoint||r.value?(o(),c("div",ol,[t("div",al,[x(f,{value:r.value||!e.part.usage?0:e.part.usage,text:r.value?"\u672A\u5206\u533A\uFF08"+e.part.total+"\uFF09":e.part.used+"/"+e.part.total,style:{backgroundColor:"#767676"}},null,8,["value","text"])])])):n.value?$("",!0):(o(),c("div",il,[t("div",{class:"value-data buttondiv",onClick:F},"\u624B\u52A8\u6302\u8F7D")])),r.value?(o(),c("button",{key:2,class:"cbi-button cbi-button-apply",onClick:p}," \u5206\u533A\u5E76\u683C\u5F0F\u5316 ")):a.value?(o(),c("button",{key:3,class:"cbi-button cbi-button-apply",onClick:d}," \u683C\u5F0F\u5316\u5206\u533A ")):$("",!0)])]),e.part.mountPoint?(o(),c("li",ll,[t("span",cl,[t("a",{href:s.value,target:"_blank"},m(e.part.mountPoint),9,dl)]),t("div",rl,[t("div",_l,[t("div",null,"\u78C1\u76D8\u8BFB\u5199\u72B6\u6001\uFF1A"+m(e.part.isReadOnly?"\u53EA\u8BFB":"\u8BFB\u5199"),1),!e.part.isSystemRoot&&e.part.isReadOnly?(o(),c("div",pl,[x(dt),vl])):$("",!0)]),t("div",hl,[t("div",null,"\u78C1\u76D8\u683C\u5F0F\uFF1A"+m((b=e.part.filesystem)==null?void 0:b.toUpperCase()),1),e.part.filesystem=="ntfs"?(o(),c("div",Fl,[x(dt),ml])):$("",!0)])])])):$("",!0)])}}});var El=S(fl,[["__scopeId","data-v-4b3c5909"]]);const Le=e=>(q("data-v-5f29973e"),e=e(),U(),e),Cl={key:0,class:"action"},gl={class:"title"},$l=Le(()=>t("div",{class:"app-container_info"},[t("span",null,"\u5206\u533A / \u6302\u8F7D\u70B9"),t("span",null,"\u5BB9\u91CF")],-1)),bl={class:"app-container_body"},yl=Le(()=>t("div",{class:"auto"},null,-1)),Dl=V({__name:"index",props:{disk:{type:Object,required:!0},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,n=C(0),a=()=>{u.Close&&u.Close()},d=F=>{F.preventDefault(),u.Cancel&&u.Cancel(),a()};return(F,p)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:M(()=>[n.value==0?(o(),c("div",Cl,[t("h2",gl," \u5206\u533A\u4FE1\u606F - "+m((e.disk.name||"?")+(e.disk.isSystemRoot?"\uFF08\u7CFB\u7EDF\u76D8\uFF09":"")),1),t("ul",null,[t("li",null,[$l,t("div",bl,[(o(!0),c(N,null,K(e.disk.childrens,(r,s)=>(o(),z(El,{key:s,part:r,disk:e.disk},null,8,["part","disk"]))),128))])])]),t("div",{class:"action-footer"},[yl,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:d,type:"button"}," \u8FD4\u56DE ")])])):$("",!0)]),_:1})]),_:1},8,["Close"]))}});var kl=S(Dl,[["__scopeId","data-v-5f29973e"]]),Bl=e=>{const u=document.createElement("div");document.body.appendChild(u);const n=st(kl,ht(vt({},e),{Close:()=>{a()}}));n.component("progress-item",Yi),n.mount(u);const a=()=>{n.unmount(),u.remove()};return{Close:a}},wl="/luci-static/istorex/warning.svg?v=69d55c8f";const qt=e=>(q("data-v-e039a994"),e=e(),U(),e),Al={class:"disk"},xl={key:0,class:"title"},Sl={class:"not-progress"},Il={key:0},Pl={class:"progress"},Vl={class:"button"},Ml=["src"],Tl=qt(()=>t("span",null,"S.M.A.R.T\u5F02\u5E38",-1)),Ll={key:1},zl={class:"progress"},Ol={class:"button"},Nl={key:0,class:"tooltip-trigger"},ql={class:"disk_tip"},Ul=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u68C0\u6D4B\u5230\u60A8\u7684Docker\u6839\u76EE\u5F55\u4F4D\u4E8E\u7CFB\u7EDF\u6839\u76EE\u5F55\u4E0A\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C\uFF0C\u5EFA\u8BAE\u4F7F\u7528Docker\u8FC1\u79FB\u5411\u5BFC\u5C06Docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\u4E0A\u3002")])],-1)),Hl={key:1,class:"tooltip-trigger"},Rl={class:"disk_tip"},Wl=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5206\u533A\u5B58\u5728\u5F02\u5E38\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Gl={key:2,class:"tooltip-trigger"},Zl={class:"disk_tip"},jl=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Xl=["onClick"],Ql=["onClick"],Yl={class:"progress"},Kl={class:"button"},Jl=["onClick"],t1={key:0},e1={class:"progress"},u1={class:"button"},n1=["onClick"],s1={key:1},o1={class:"progress"},a1={class:"button"},i1=["onClick"],l1=V({__name:"disk",props:{title:String,type:String,smartWarning:Boolean},setup(e){const u=e,n=Ae(),a=W(()=>{var f,b,D,v;if(u.type==="systemRoot")return((b=(f=n==null?void 0:n.disk)==null?void 0:f.disks)==null?void 0:b.filter(l=>l.isSystemRoot))||[];if(u.type==="notSystemRoot")return[...(D=n==null?void 0:n.disk)==null?void 0:D.disks].filter(l=>!l.isSystemRoot)||[];if(u.type==="raid")return[...(v=n==null?void 0:n.raid)==null?void 0:v.disks]}),d=f=>f.usage>80?"linear-gradient(91deg, #e7ab67 0.27%, #fa5b29 99.46%)":"linear-gradient(91deg, #4BCAE7 0.27%, #8ADE86 99.46%)",F=()=>{at({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})},p=f=>{Ve({action:"disk",disk:f,Cancel:()=>{},Next:()=>{location.reload()}})},r=f=>{Bl({action:"disk",disk:f,Cancel:()=>{},Next:()=>{location.reload()}})},s=f=>{const b=f.childrens||[];Me({action:"nas",disk:f,mount:b[0],Cancel:()=>{},Next:()=>{location.reload()}})},i=f=>f.errorInfo?"error":f.childrens==null||f.childrens.length==0||f.childrens.length==1&&f.childrens[0].filesystem=="No FileSystem"?"load":f.childrens.filter(b=>b.mountPoint).length===0?"unmounted":"success",_=f=>{let b=f.name;return f.size&&(b+=`\u3010${f.size}\u3011`),f.venderModel&&(b+=`(${f.venderModel})`),b};return(f,b)=>{var D;return o(),c("div",Al,[(D=a.value)!=null&&D.length?(o(),c("span",xl,m(u.title),1)):$("",!0),(o(!0),c(N,null,K(a.value,(v,l)=>{var E,h,k,w,y;return o(),c("div",{class:"item",key:l},[i(v)==="error"?(o(),c(N,{key:0},[t("span",null,m(_(v)),1),t("div",Sl,[t("span",null,m(v.errorInfo),1)])],64)):i(v)=="success"?(o(),c(N,{key:1},[t("span",null,m(_(v)),1),v.smartWarning&&e.smartWarning?(o(),c("div",Il,[t("div",Pl,[t("div",{style:tt({background:d(v),width:`${v.usage||0}%`})},null,4),t("span",null,m(`${v.used}/${v.total}`),1)]),t("div",Vl,[t("span",{class:"btn",onClick:b[0]||(b[0]=g=>F())},[t("img",{src:R(wl)},null,8,Ml),Tl])])])):(o(),c("div",Ll,[t("div",zl,[t("div",{style:tt({background:d(v),width:`${v.usage||0}%`})},null,4),t("span",null,m(`${v.used}/${v.total}`),1)]),t("div",Ol,[v.isDockerRoot&&v.isSystemRoot&&v.usage&&v.usage>=90?(o(),c("span",Nl,[t("span",ql,[x(dt)]),Ul])):$("",!0),!v.isSystemRoot&&(((E=v.childrens)==null?void 0:E.filter(g=>g.isReadOnly||g.filesystem=="ntfs").length)||0)>0?(o(),c("span",Hl,[t("span",Rl,[x(dt)]),Wl])):$("",!0),(h=v.childrens)!=null&&h.filter(g=>g.isSystemRoot&&g.usage&&g.usage>80).length?(o(),c("span",Gl,[t("span",Zl,[x(dt)]),jl])):$("",!0),!v.isSystemRoot&&(((k=v.childrens)==null?void 0:k.filter(g=>g.isReadOnly||g.filesystem=="ntfs").length)||0)>0?(o(),c("img",{key:3,src:Ha,onClick:g=>p(v),alt:""},null,8,Xl)):$("",!0),t("img",{onClick:g=>r(v),src:Ra,alt:""},null,8,Ql)])]))],64)):i(v)==="load"?(o(),c(N,{key:2},[t("span",null,m(_(v)),1),t("div",Yl,[t("div",{style:tt({width:`${v.usage||0}%`})},null,4),t("span",null,m(`${v.used}/${v.total}`),1)]),t("div",Kl,[t("span",{class:"btn",onClick:g=>p(v)},"\u683C\u5F0F\u5316\u5E76\u6302\u8F7D",8,Jl)])],64)):i(v)==="unmounted"?(o(),c(N,{key:3},[t("span",null,m(_(v)),1),((w=v.childrens)==null?void 0:w.length)==1?(o(),c("div",t1,[t("div",e1,[t("div",{style:tt({background:d(v),width:`${v.usage||0}%`})},null,4),t("span",null,m(`${v.used}/${v.total}`),1)]),t("div",u1,[t("span",{class:"btn",onClick:g=>s(v)},"\u624B\u52A8\u6302\u8F7D",8,n1)])])):$("",!0),(((y=v.childrens)==null?void 0:y.length)||0)>1?(o(),c("div",s1,[t("div",o1,[t("div",{style:tt({background:d(v),width:`${v.usage||0}%`})},null,4),t("span",null,m(`${v.used}/${v.total}`),1)]),t("div",a1,[t("span",{class:"btn",onClick:g=>r(v)},"\u624B\u52A8\u6302\u8F7D",8,i1)])])):$("",!0)],64)):$("",!0)])}),128))])}}});var Rt=S(l1,[["__scopeId","data-v-e039a994"]]),ge="/luci-static/istorex/right.svg?v=173d63f8";const c1=Xt('<div class="app-container_status-label_iconer" data-v-580b5628><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-580b5628><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-580b5628></rect><rect x="3" y="19" width="6" height="6" fill="#CCCCCC" data-v-580b5628></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#999999" data-v-580b5628></path></svg></div>',1),d1={class:"app-container_status-label_text"},r1={class:"text_status"},_1={class:"text_info"},p1=Xt('<div class="app-container_status-label_iconer" data-v-580b5628><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-580b5628><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-580b5628></rect><rect x="3" y="19" width="6" height="6" fill="#8ECF57" data-v-580b5628></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#4D4D4D" data-v-580b5628></path></svg></div>',1),v1={class:"app-container_status-label_text"},h1={class:"text_info"},F1=V({__name:"item",props:{item:{type:Object,required:!0},transform:{type:Number,default:0}},setup(e){const u=e,n=xe(),a=C(null),d=p=>{const r=p.target,{left:s,top:i}=r.getBoundingClientRect();n.portitemStyle.show=!0,n.portitemStyle.left=s,n.portitemStyle.top=i,n.portitemStyle.portitem=u.item},F=p=>{n.portitemStyle.show=!1};return(p,r)=>(o(),c("div",{class:"app-container_status-label_bg",style:tt(`transform: translateX(${e.transform}px);`),ref_key:"el",ref:a,onMouseenter:d,onMouseleave:F},[e.item.linkState=="DOWN"?(o(),c(N,{key:0},[c1,t("div",d1,[t("div",r1,m(p.$t("\u5DF2\u65AD\u5F00")),1),t("div",_1,m(e.item.name)+" "+m(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64)):(o(),c(N,{key:1},[p1,t("div",v1,[t("div",null,m(e.item.linkSpeed),1),t("div",h1,m(e.item.name)+" "+m(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64))],36))}});var m1=S(F1,[["__scopeId","data-v-580b5628"]]);const f1=V({__name:"index",props:{portList:{type:Array,required:!0}},setup(e){const u=C(),n=C(0),a=C(0),d=C(0),F=C(!1),p=()=>{if(d.value>=0){d.value=0;return}d.value+=100},r=()=>{if(d.value<=0-n.value+a.value){d.value=0-n.value+a.value;return}d.value-=100};return et(()=>{Xe(()=>{u.value&&(n.value=u.value.scrollWidth,a.value=u.value.clientWidth,F.value=n.value>a.value)})}),(s,i)=>(o(),c("div",{class:"app-interfaces",ref_key:"el",ref:u},[F.value?(o(),c(N,{key:0},[t("img",{src:ge,class:"btn-f",alt:"",onClick:p}),t("img",{src:ge,class:"btn-r",alt:"",onClick:r})],64)):$("",!0),(o(!0),c(N,null,K(e.portList,(_,f)=>(o(),z(m1,{item:_,transform:d.value},null,8,["item","transform"]))),256))],512))}});var E1=S(f1,[["__scopeId","data-v-92f8fb6c"]]);const C1={class:"status-card"},g1=V({__name:"interfacer-status",setup(e){const u=mt({portList:[],load:!1});return(()=>{P.Network.PortList.GET().then(a=>{if(a!=null&&a.data){const{result:d}=a==null?void 0:a.data;d&&(u.portList=d.ports||[])}}).finally(()=>{u.load=!0})})(),(a,d)=>(o(),c("div",C1,[u.load?(o(),z(E1,{key:0,portList:u.portList},null,8,["portList"])):$("",!0)]))}});var $1=S(g1,[["__scopeId","data-v-2244abae"]]);const rt={installApp:(e,u)=>new Promise((n,a)=>{let d=0;P.App.Install.POST({name:e}).then(()=>{const F=setTimeout(()=>{d==0&&(d=1,n(!1))},(u||60)*1e3),p=()=>{d==0&&P.App.Check.POST({name:e}).then(r=>{if(d==0&&r!=null&&r.data){const{result:s}=r.data;if((s==null?void 0:s.status)=="installed"){clearTimeout(F),d=1,n(!0);return}}}).catch(r=>{}).finally(()=>{d==0&&setTimeout(p,3e3)})};setTimeout(p,3e3)}).catch(F=>{d==0&&(d=1,a("\u5B89\u88C5\u5931\u8D25\uFF0C"+F))})}),checkAndInstallApp:(e,u,n)=>T(void 0,null,function*(){let a=A.Loading("\u68C0\u67E5\u4E2D...");try{const d=yield P.App.Check.POST({name:e});if(a.Close(),d!=null&&d.data){const{result:F,error:p}=d.data;if(p)A.Warning(p);else if(F){if(F.status=="installed")return!0;if(confirm(`\u68C0\u6D4B\u5230\u4F60\u5C1A\u672A\u5B89\u88C5 ${u} \u63D2\u4EF6,\u662F\u5426\u5B89\u88C5\uFF1F`)){a=A.Loading("\u6B63\u5728\u5B89\u88C5\u4E2D...");const r=yield rt.installApp(n||e);if(a.Close(),r)return!0;A.Error("\u5B89\u88C5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u68C0\u67E5\u8F6F\u4EF6\u6E90\u6216\u7A0D\u5019\u91CD\u8BD5")}}else A.Warning("\u68C0\u67E5\u63D2\u4EF6\u72B6\u6001\u5931\u8D25")}return!1}catch(d){return a.Close(),A.Warning(d),!1}}),installAndGo:(e,u,n,a)=>T(void 0,null,function*(){(yield rt.checkAndInstallApp(e,u,a))&&(location.href=n)})};const b1={class:"width-50 responsive"},y1={class:"chart"},D1={class:"info"},k1={class:"width-50 responsive"},B1=V({__name:"index",setup(e){const u=Nt.stampForm,n=mt({cpuUsage:0,cpuTemperature:0,memAvailablePercentage:0,uptime:0,localtime:""}),a=mt({firmwareVersion:"",kernelVersion:"",model:""});mt({root:[],loaded:[]});const d={interfaceconfig:[{text:"\u7F51\u53E3\u914D\u7F6E",onClick:()=>{at({title:"\u7F51\u53E3\u914D\u7F6E",src:"/cgi-bin/luci/admin/quickstart/interfaceconfig"})}}],system:[{text:"\u7CFB\u7EDF\u76D1\u63A7",onClick:()=>{rt.installAndGo("app-meta-netdata","NetData","/cgi-bin/luci/admin/status/netdata")}},{text:"\u5907\u4EFD\u5347\u7EA7",onClick:()=>{at({title:"\u5907\u4EFD\u5347\u7EA7",src:"/cgi-bin/luci/admin/system/flash"})}},{text:"\u63D2\u4EF6\u5907\u4EFD",onClick:()=>{at({title:"\u63D2\u4EF6\u5907\u4EFD",src:"/cgi-bin/luci/admin/store/pages/maintance"})}}],disk:[{text:"RAID\u7BA1\u7406",onClick:()=>{at({title:"RAID\u7BA1\u7406",src:"/cgi-bin/luci/admin/nas/raid"})}},{text:"S.M.A.R.T.",onClick:()=>{at({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})}},{text:"\u78C1\u76D8\u7BA1\u7406",onClick:()=>{at({title:"\u78C1\u76D8\u7BA1\u7406",src:"/cgi-bin/luci/admin/system/diskman"})}},{text:"\u6302\u8F7D\u70B9",onClick:()=>{at({title:"\u6302\u8F7D\u70B9",src:"/cgi-bin/luci/admin/system/mounts"})}}]},F=()=>T(this,null,function*(){var b,D,v,l,E;const f=yield P.System.Status.GET();console.log("getSystemStatus",f.data.result),f.data.result&&(n.uptime=(b=f.data.result)==null?void 0:b.uptime,n.localtime=(D=f.data.result)==null?void 0:D.localtime,n.cpuUsage=((v=f.data.result)==null?void 0:v.cpuUsage)||0,n.memAvailablePercentage=100-((l=f.data.result)==null?void 0:l.memAvailablePercentage)||0,n.cpuTemperature=(E=f.data.result)==null?void 0:E.cpuTemperature,_.cpu&&_.cpu.setValue(n.cpuUsage),_.men&&_.men.setValue(n.memAvailablePercentage),_.temperature&&_.temperature.setValue(n.cpuTemperature),window.setInterval(()=>{n.uptime&&(n.uptime=n.uptime+1),n.localtime&&(n.localtime=String(me(me(n.localtime).unix()*1e3+1e3).format("YYYY-MM-DD HH:mm:ss")))},1e3))}),p=()=>T(this,null,function*(){var b,D,v;const f=yield P.System.Version.GET();console.log("getSystemVersion",f),f.data.result&&(a.firmwareVersion=(b=f.data.result)==null?void 0:b.firmwareVersion,a.kernelVersion=(D=f.data.result)==null?void 0:D.kernelVersion,a.model=(v=f.data.result)==null?void 0:v.model)});Ae();const r=C(null),s=C(null),i=C(null),_={cpu:null,men:null,temperature:null};return et(()=>{r.value&&s.value&&i.value&&(_.cpu=Ht({el:r.value,value:n.cpuUsage,name:ct.global.t("CPU\u4F7F\u7528\u7387"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}),_.men=Ht({el:s.value,value:n.memAvailablePercentage,name:ct.global.t("\u5185\u5B58\u4F7F\u7528\u7387"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#F66631",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E5B56E"},{offset:1,color:"#FD4812E5"}],global:!1}}),_.temperature=Ht({el:i.value,value:n.cpuTemperature,name:ct.global.t("CPU\u6E29\u5EA6"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",unit:"\xB0C",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}))}),F(),p(),(f,b)=>(o(),z(ft,null,{default:M(()=>[t("div",b1,[x(j,{title:f.$t("\u7F51\u7EDC\u63A5\u53E3\u72B6\u6001"),span:24,"more-actions":d.interfaceconfig,padding:"0 10px 8px 10px"},{default:M(()=>[x($1)]),_:1},8,["title","more-actions"]),x(j,{title:f.$t("\u7CFB\u7EDF\u4FE1\u606F"),padding:"0 10px 8px 10px",span:24,"more-actions":d.system},{default:M(()=>[t("div",y1,[t("div",{class:"gauge",ref_key:"temperature",ref:i},null,512),t("div",{class:"gauge",ref_key:"cpu",ref:r},null,512),t("div",{class:"gauge",ref_key:"men",ref:s},null,512)]),t("div",D1,[t("div",null,[t("span",null,m(f.$t("\u8BBE\u5907\u578B\u53F7"))+"\uFF1A",1),t("span",null,m(a.model),1)]),t("div",null,[t("span",null,m(f.$t("\u56FA\u4EF6\u7248\u672C"))+"\uFF1A",1),t("span",null,m(a.firmwareVersion),1)]),t("div",null,[t("span",null,m(f.$t("\u5185\u6838\u7248\u672C"))+"\uFF1A",1),t("span",null,m(a.kernelVersion),1)]),t("div",null,[t("span",null,m(f.$t("\u5DF2\u542F\u52A8"))+"\uFF1A",1),t("span",null,m(R(u)(n.uptime)),1)]),t("div",null,[t("span",null,m(f.$t("\u7CFB\u7EDF\u65F6\u95F4"))+"\uFF1A",1),t("span",null,m(n.localtime),1)])])]),_:1},8,["title","more-actions"])]),t("div",k1,[x(j,{title:f.$t("\u78C1\u76D8\u4FE1\u606F"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/8myYAEVA/",span:24,"more-actions":d.disk},{default:M(()=>[x(Rt,{title:f.$t("\u7CFB\u7EDF\u6839\u76EE\u5F55"),type:"systemRoot"},null,8,["title"]),x(Rt,{title:f.$t("\u5DF2\u6302\u8F7D\u78C1\u76D8"),smartWarning:!0,type:"notSystemRoot"},null,8,["title"]),x(Rt,{title:f.$t("RAID\u8BBE\u5907"),type:"raid"},null,8,["title"])]),_:1},8,["title","more-actions"])])]),_:1}))}});var w1=S(B1,[["__scopeId","data-v-3f470552"]]),A1="/luci-static/istorex/setting.svg?v=9ffe8a9b";const x1={class:"app"},S1={class:"setting"},I1=["src"],P1=["src"],V1=V({__name:"app",props:{title:{},title_en:{},name:{},isWebUrl:{type:Function},openApp:{type:Function},openWebUrl:{type:Function}},setup(e){const u=e,n=C(localStorage.getItem("i18n")),a=d=>P.ApiStore.getStoreAppIcon(`/static-icon/openwrt-app-meta/app-meta-${d}/logo.png`);return et(()=>{Ie.subscribe("changeLocale",(d,F)=>{F==="auto"?n.value=navigator.language:n.value=F})}),(d,F)=>(o(),c("div",x1,[u.isWebUrl()?(o(),c("div",{key:0,onClick:F[1]||(F[1]=p=>u.openWebUrl())},[t("span",S1,[t("img",{src:A1,alt:"",onClick:F[0]||(F[0]=p=>{p.stopPropagation(),u.openApp()})})]),t("div",null,[t("img",{class:"app-icon",src:a(u.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,I1),t("span",null,m(n.value==="en"&&u.title_en||u.title),1)])])):(o(),c("div",{key:1,onClick:F[2]||(F[2]=p=>u.openApp())},[t("div",null,[t("img",{class:"app-icon",src:a(u.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,P1),t("span",null,m(n.value==="en"&&u.title_en||u.title),1)])]))]))}});var M1=S(V1,[["__scopeId","data-v-61b6e601"]]);const T1=e=>(q("data-v-283b2956"),e=e(),U(),e),L1={class:"app-store"},z1=T1(()=>t("span",null,"APP Store",-1)),O1=V({__name:"index",setup(e){const u=Qe(),n=W(()=>u.localApps.filter(d=>d.name!="istorex"));return(()=>T(this,null,function*(){yield u.getApp()}))(),(d,F)=>(o(),z(ft,{title:d.$t("\u5E94\u7528\u4E2D\u5FC3")},{default:M(()=>[t("div",L1,[t("div",{class:"store",onClick:F[0]||(F[0]=p=>R(Ye).Open())},[t("div",null,[t("div",null,[t("span",null,m(d.$t("\u5E94\u7528\u5546\u5E97")),1),z1])])]),(o(!0),c(N,null,K(n.value,p=>(o(),z(M1,Ke(Je(p)),null,16))),256))])]),_:1},8,["title"]))}});var N1=S(O1,[["__scopeId","data-v-283b2956"]]),q1="/luci-static/istorex/copy.png?v=7ec874a7";const _t=e=>(q("data-v-43beecef"),e=e(),U(),e),U1={class:"actioner-container"},H1=_t(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),R1={class:"actioner-container_body"},W1={class:"label-item"},G1=_t(()=>t("span",null,"DDNSTO",-1)),Z1=_t(()=>t("p",{class:"label_info"},"DDNSTO \u662F\u4E00\u4E2A\u4E0D\u9700\u8981\u516C\u7F51IP\u4E5F\u53EF\u4EE5\u5728\u5916\u7F51\u8BBF\u95EE\u7684\u7A7F\u900F\u57DF\u540D\u670D\u52A1\uFF0C\u4E00\u4E2A\u6D4F\u89C8\u5668\u641E\u5B9A\u5185\u7F51\u7A7F\u900F\uFF0C\u8FDC\u7A0B\u8BBF\u95EEOpenwrt\u3001\u8FDC\u7A0B\u7EC8\u7AEF\u3001\u8FDC\u7A0B\u684C\u9762...",-1)),j1={class:"label-item"},X1=_t(()=>t("span",null,"\u963F\u91CC\u4E91",-1)),Q1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),Y1={class:"label-item"},K1=_t(()=>t("span",null,"Dnspod",-1)),J1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),tc={class:"label-item"},ec=_t(()=>t("span",null,"\u82B1\u751F\u58F3",-1)),uc=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),nc=V({__name:"setup-index",props:{onSetup:{type:Function,required:!0},active:{type:String,default:"ddnsto"}},emits:["update:active"],setup(e,{emit:u}){const n=e,a=()=>{n.onSetup()},d=C(n.active),F=()=>{switch(u("update:active",d.value),d.value){case"ddnsto":n.onSetup("ddnsto");break;case"ali":n.onSetup("ddns-ali");break;case"dnspod":n.onSetup("ddns-dnspod");break;case"oray":n.onSetup("ddns-oray");break}};return(p,r)=>(o(),c("div",U1,[H1,t("div",R1,[t("div",W1,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[0]||(r[0]=s=>d.value=s),value:"ddnsto"},null,512),[[it,d.value]]),G1]),Z1]),t("div",j1,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[1]||(r[1]=s=>d.value=s),value:"ali"},null,512),[[it,d.value]]),X1]),Q1]),t("div",Y1,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[2]||(r[2]=s=>d.value=s),value:"dnspod"},null,512),[[it,d.value]]),K1]),J1]),t("div",tc,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[3]||(r[3]=s=>d.value=s),value:"oray"},null,512),[[it,d.value]]),ec]),uc])]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:a},"\u53D6\u6D88"),t("div",{class:"next",onClick:F},"\u4E0B\u4E00\u6B65")])]))}});var sc=S(nc,[["__scopeId","data-v-43beecef"]]);const zt=e=>(q("data-v-43dd65a2"),e=e(),U(),e),oc={class:"actioner-container"},ac={class:"actioner-container_body"},ic=zt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),lc=zt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),cc=zt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),dc={class:"body-info"},rc=zt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),_c=["href"],pc=zt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"/cgi-bin/luci/admin/services/ddns",target:"_blank"},"\u670D\u52A1-\u52A8\u6001DNS"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),vc=V({__name:"setup-ddns-success",props:{target:{type:String,required:!0},onSetup:{type:Function,required:!0}},setup(e){const u=()=>{location.reload()};return(n,a)=>(o(),c("div",oc,[t("div",ac,[ic,lc,cc,t("div",dc,[rc,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},m(e.target),9,_c)]),pc]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var hc=S(vc,[["__scopeId","data-v-43dd65a2"]]);const ze=e=>(q("data-v-7790f1da"),e=e(),U(),e),Fc={class:"actioner-container"},mc=ze(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),fc=ze(()=>t("div",{class:"actioner-container_body ddnsto-login"},[t("iframe",{src:"https://www.kooldns.cn/bind/#/auth?send=1&source=openwrt&callback=*"})],-1)),Ec=V({__name:"setup-ddnsto-login",props:{onSetup:{type:Function,required:!0},onDdnstoConfig:{type:Function,required:!0}},setup(e){const u=e,n=()=>{u.onSetup()},a=d=>{if(d.data.auth=="ddnsto"){const F=d.data.sign,p=d.data.token;F&&p&&(removeEventListener("message",a),u.onDdnstoConfig(F,p),u.onSetup("ddnsto-run"))}};return et(()=>{window.addEventListener("message",a)}),Bt(()=>{removeEventListener("message",a)}),(d,F)=>(o(),c("div",Fc,[mc,fc,t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:n},"\u53D6\u6D88")])]))}});var Cc=S(Ec,[["__scopeId","data-v-7790f1da"]]);const gc=e=>(q("data-v-5baf4b05"),e=e(),U(),e),$c={class:"actioner-container"},bc=gc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),yc={class:"actioner-container_body ddnsto-bind"},Dc=["src"],kc=V({__name:"setup-ddnsto-bind",props:{onSetup:{type:Function,required:!0},config:{type:Object,required:!0},domain:{type:String,required:!0}},emits:["update:domain"],setup(e,{emit:u}){const n=e,a=W(()=>{const{domain:p,token:r,sign:s,routerId:i,netaddr:_}=n.config,f=encodeURIComponent(p),b=encodeURIComponent(_);return`https://www.kooldns.cn/bind/#/domain?domain=${f}&sign=${s}&token=${r}&routerId=${i}&netaddr=${b}`}),d=p=>{if(p.data){const{auth:r,url:s}=p.data;r==="ddnsto"&&s&&F(s)}},F=p=>T(this,null,function*(){var r;try{const s=yield P.Guide.DdnstoAddress.POST({address:p});s!=null&&s.data&&(((r=s==null?void 0:s.data)==null?void 0:r.success)||0)==0&&(u("update:domain",p),n.onSetup("ddnsto-save"))}catch(s){}});return et(()=>{window.addEventListener("message",d)}),Bt(()=>{removeEventListener("message",d)}),(p,r)=>(o(),c("div",$c,[bc,t("div",yc,[t("iframe",{src:a.value},null,8,Dc)])]))}});var Bc=S(kc,[["__scopeId","data-v-5baf4b05"]]);const Ot=e=>(q("data-v-02a6c9d8"),e=e(),U(),e),wc={class:"actioner-container"},Ac={class:"actioner-container_body"},xc=Ot(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),Sc=Ot(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),Ic=Ot(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),Pc={class:"body-info"},Vc=Ot(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),Mc=["href"],Tc=Ot(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"https://www.ddnsto.com/app/#/devices",target:"_blank"},"DDNSTO\u63A7\u5236\u53F0"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),Lc=V({__name:"setup-ddnsto-save",props:{onSetup:{type:Function,required:!0},target:{type:String,required:!0}},setup(e){const u=()=>{location.reload()};return(n,a)=>(o(),c("div",wc,[t("div",Ac,[xc,Sc,Ic,t("div",Pc,[Vc,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},m(e.target),9,Mc)]),Tc]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var zc=S(Lc,[["__scopeId","data-v-02a6c9d8"]]);const Oc=e=>(q("data-v-4f87c1d1"),e=e(),U(),e),Nc={class:"actioner-container"},qc=Oc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),Uc={class:"actioner-container_body"},Hc={class:"actioner-container_footer"},Rc=V({__name:"setup-ddnsto-install",props:{onSetup:{type:Function,required:!0}},setup(e){const u=e,n=()=>{u.onSetup()},a=()=>T(this,null,function*(){if(p.value)return;p.value=!0;const s=A.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){u.onSetup("ddnsto-login");return}else d.value="\u5B89\u88C5\u5931\u8D25"}catch(i){d.value=i}finally{s.Close()}p.value=!1}),d=C("\u6B63\u5728\u68C0\u6D4B\u4E2D..."),F=C(!1),p=C(!1);return(()=>T(this,null,function*(){try{const s=yield P.App.Check.POST({name:"ddnsto"});if(s!=null&&s.data){const{result:i,error:_}=s.data;if(_){d.value=_;return}if(i){if(i.status=="installed"){u.onSetup("ddnsto-login");return}i.status=="uninstalled"&&(d.value="\u9700\u8981\u5B89\u88C5DDNSTO\u63D2\u4EF6\uFF0C\u70B9\u51FB\u201C\u786E\u5B9A\u201D\u5F00\u59CB\u5B89\u88C5")}}}catch(s){d.value=s}F.value=!0}))(),(s,i)=>(o(),c("div",Nc,[qc,t("div",Uc,[t("span",null,m(d.value),1)]),t("div",Hc,[F.value?(o(),c(N,{key:0},[t("div",{class:"close",onClick:n},"\u53D6\u6D88"),t("div",{class:"next",onClick:a},"\u786E\u5B9A")],64)):$("",!0)])]))}});var Wc=S(Rc,[["__scopeId","data-v-4f87c1d1"]]);const Gc=e=>(q("data-v-06c9d91d"),e=e(),U(),e),Zc={class:"actioner-container"},jc=Gc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),Xc={class:"actioner-container_body"},Qc=V({__name:"setup-ddnsto-run",props:{onSetup:{type:Function,required:!0},token:{type:String,required:!0},onDdnstoLocalConfig:{type:Function,required:!0}},setup(e){const u=e,n=C("\u6B63\u5728\u68C0\u6D4B\u63D2\u4EF6\u662F\u5426\u5DF2\u542F\u52A8...");(s=>T(this,null,function*(){var i;try{const _=yield P.Guide.Ddnsto.POST({token:u.token});_!=null&&_.data&&(_.data.error&&(n.value=_.data.error),(((i=_==null?void 0:_.data)==null?void 0:i.success)||0)==0&&F())}catch(_){n.value=_}}))(u.token);const d=C(),F=()=>{const s=()=>T(this,null,function*(){if((yield p())===!0){r();return}d.value=window.setTimeout(s,2e3)});s()},p=()=>T(this,null,function*(){try{const s=yield P.App.Check.POST({name:"ddnsto",checkRunning:!0});if(s!=null&&s.data){s.data.error&&(n.value=s.data.error);const i=s.data.result;if((i==null?void 0:i.status)=="running")return!0}}catch(s){n.value=s}return!1});Bt(()=>{d.value&&clearInterval(d.value)});const r=()=>T(this,null,function*(){var s;try{const i=yield P.Guide.DdntoConfig.GET();if(i!=null&&i.data&&(i.data.error&&(n.value=i.data.error),(((s=i==null?void 0:i.data)==null?void 0:s.success)||0)==0&&i.data.result)){const _=i.data.result;u.onDdnstoLocalConfig(_.netAddr,_.deviceId),u.onSetup("ddnsto-bind")}}catch(i){n.value=i}});return(s,i)=>(o(),c("div",Zc,[jc,t("div",Xc,m(n.value),1)]))}});var Yc=S(Qc,[["__scopeId","data-v-06c9d91d"]]);const Kc={class:"action-main"},Jc=V({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,n=C("ddnsto-install"),a=s=>{s!=null?n.value=s:d()},d=()=>{u.Close&&u.Close()},F=mt({sign:"",token:"",domain:u.url,netaddr:"",routerId:""}),p=(s,i)=>{F.sign=s,F.token=i},r=(s,i)=>{F.netaddr=s,F.routerId=i};return(s,i)=>(o(),z(ot,{type:1},{default:M(()=>[t("div",Kc,[n.value=="ddnsto-install"?(o(),z(Wc,{key:0,onSetup:a})):n.value=="ddnsto-login"?(o(),z(Cc,{key:1,onSetup:a,onDdnstoConfig:p})):n.value=="ddnsto-run"?(o(),z(Yc,{key:2,onSetup:a,token:F.token,onDdnstoLocalConfig:r},null,8,["token"])):n.value=="ddnsto-bind"?(o(),z(Bc,{key:3,onSetup:a,config:{token:F.token,sign:F.sign,domain:F.domain,netaddr:F.netaddr,routerId:F.routerId},domain:F.domain,"onUpdate:domain":i[0]||(i[0]=_=>F.domain=_)},null,8,["config","domain"])):n.value=="ddnsto-save"?(o(),z(zc,{key:4,onSetup:a,target:F.domain},null,8,["target"])):$("",!0)])]),_:1}))}});var td=S(Jc,[["__scopeId","data-v-2b767e18"]]);const ed=e=>{const u=document.createElement("div");document.body.appendChild(u);const n=st(td,ht(vt({},e),{Close:()=>{a()}}));n.mount(u);const a=()=>{n.unmount(),u.remove()};return{Close:a}};const ud={class:"action"},nd={class:"action-header"},sd=["innerHTML"],od={class:"action-footer"},ad=V({__name:"index",props:{Close:Function,next:{type:Function},clear:{type:Function},continuer:{type:Function},nextTitle:{type:String,default:"\u786E\u5B9A"},clearTitle:{type:String,default:"\u8FD4\u56DE"},continuerTitle:{type:String,default:"\u7EE7\u7EED\u4FDD\u5B58"},title:{type:String,default:"\u63D0\u793A"},content:{type:String}},setup(e){const u=e,n=()=>{u.next&&u.next(),u.Close&&u.Close()},a=()=>{u.clear&&u.clear(),u.Close&&u.Close()},d=()=>{u.continuer&&u.continuer(),u.Close&&u.Close()};return(F,p)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>[t("div",ud,[t("div",nd,m(e.title),1),t("div",{class:"action-body",innerHTML:e.content},null,8,sd),t("div",od,[e.clear?(o(),c("div",{key:0,class:"clear",onClick:a},m(e.clearTitle),1)):$("",!0),t("div",{class:"next",onClick:n},m(e.nextTitle),1),e.continuer?(o(),c("div",{key:1,class:"next",onClick:d},m(e.continuerTitle),1)):$("",!0)])])]),_:1},8,["Close"]))}});var id=S(ad,[["__scopeId","data-v-4283f74c"]]);const $e=e=>{const u=document.createElement("div");document.body.appendChild(u);const n=st(id,ht(vt({},e),{Close:()=>{a()}}));n.mount(u);const a=()=>{n.unmount(),u.remove()};return{Close:a}};const X=e=>(q("data-v-b1e12544"),e=e(),U(),e),ld={class:"actioner-container"},cd=["onSubmit"],dd=X(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),rd={key:0,class:"title_info"},_d=X(()=>t("p",null,"\u963F\u91CC\u4E91",-1)),pd=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),vd=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E9%98%BF%E9%87%8C%E4%BA%91",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),hd=[_d,pd,vd],Fd={key:1,class:"title_info"},md=X(()=>t("p",null,"dnspod",-1)),fd=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),Ed=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#dnspod",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),Cd=[md,fd,Ed],gd={key:2,class:"title_info"},$d=X(()=>t("p",null,"\u82B1\u751F\u58F3",-1)),bd=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),yd=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E8%8A%B1%E7%94%9F%E5%A3%B3",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),Dd=[$d,bd,yd],kd={class:"label-item"},Bd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u5730\u5740\u7248\u672C\uFF1A")],-1)),wd={class:"label-item_value"},Ad=X(()=>t("option",{value:"ipv4"},"IPv4\u5730\u5740",-1)),xd=X(()=>t("option",{value:"ipv6"},"IPv6\u5730\u5740",-1)),Sd=[Ad,xd],Id=X(()=>t("div",{class:"label_tips"},[t("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])]),t("span",{class:"info"},"\u8BBE\u5B9A\u54EA\u4E00\u4E2A IP \u5730\u5740\uFF08IPv4 \u6216 IPv6\uFF09\u4F1A\u88AB\u53D1\u9001\u7ED9 DDNS \u63D0\u4F9B\u5546")],-1)),Pd={class:"label-item"},Vd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u57DF\u540D\uFF1A")],-1)),Md={class:"label-item_value"},Td={class:"label-item"},Ld=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u7528\u6237\u540D\uFF1A")],-1)),zd={class:"label-item_value"},Od={class:"label-item"},Nd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5BC6\u7801\uFF1A")],-1)),qd={class:"label-item_value"},Ud={class:"actioner-container_footer"},Hd=["disabled"],Rd=V({__name:"setup-ddns",props:{name:{type:String,default:"ali"},onSetup:{type:Function,required:!0},target:{type:String,required:!0}},emits:["update:target"],setup(e,{emit:u}){const n=e,a=C("ipv4"),d=C(n.name),F=C(""),p=C(""),r=C(""),s=C(!1),i=()=>{n.onSetup("index")},_=()=>{s.value=!0;const v=A.Loading("\u68C0\u6D4B\u4E2D...");P.Network.CheckPublickNet.POST({ipVersion:a.value}).then(l=>{var E,h;if(l!=null&&l.data){if((E=l==null?void 0:l.data)!=null&&E.error){A.Warning(l==null?void 0:l.data.error);return}if((((h=l==null?void 0:l.data)==null?void 0:h.success)||0)==0){const k=l.data.result;k&&k.address?D():f();return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(l=>{A.Error(l)}).finally(()=>{v.Close(),s.value=!1})},f=()=>{$e({title:"\u6E29\u99A8\u63D0\u793A",nextTitle:"\u4F7F\u7528DDNSTO",continuerTitle:"\u7EE7\u7EED\u4FDD\u5B58",content:"\u68C0\u6D4B\u5230\u60A8\u7684wan\u53E3\u6CA1\u6709\u516C\u7F51IP\u6216\u8005IPv6\u5730\u5740\uFF0C\u53EF\u4EE5\u4F7F\u7528DDNSTO\u914D\u7F6E\u8FDC\u7A0B\u57DF\u540D\u8BBF\u95EE",next(){b()},continuer(){D()},clear(){}})},b=()=>{n.onSetup("ddnsto")},D=()=>{s.value=!0;const v=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.PostDdns.POST({ipVersion:a.value,serviceName:d.value,domain:F.value,userName:p.value,password:r.value}).then(l=>{if(l!=null&&l.data){const{error:E,scope:h,success:k}=l.data;if(E=="-100"&&h=="guide.ddns"){$e({title:"\u6E29\u99A8\u63D0\u793A",content:"\u68C0\u6D4B\u5230\u4F60\u6709\u672A\u4FDD\u5B58\u7684\u914D\u7F6E\uFF0C\u53EF\u524D\u5F80\u9875\u9762\u53F3\u4E0A\u89D2\u70B9\u51FB\u67E5\u770B\uFF0C\u4FDD\u5B58\u5E76\u5E94\u7528\u6216\u8005\u6062\u590D\u914D\u7F6E\u540E\u7EE7\u7EED",next(){}});return}if(E){A.Warning(E);return}if((k||0)==0){u("update:target",F.value),n.onSetup("ddns-success");return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(l=>{A.Error(l)}).finally(()=>{v.Close(),s.value=!1})};return(v,l)=>(o(),c("div",ld,[t("form",{class:"actioner-dns",onSubmit:lt(_,["prevent"])},[dd,t("div",{class:Qt(["actioner-container_body",e.name])},[e.name=="ali"?(o(),c("div",rd,hd)):e.name=="dnspod"?(o(),c("div",Fd,Cd)):e.name=="oray"?(o(),c("div",gd,Dd)):$("",!0),t("div",kd,[Bd,t("div",wd,[L(t("select",{name:"",id:"","onUpdate:modelValue":l[0]||(l[0]=E=>a.value=E)},Sd,512),[[Et,a.value]])]),Id]),t("div",Pd,[Vd,t("div",Md,[L(t("input",{type:"text",placeholder:"myhost.example.com","onUpdate:modelValue":l[1]||(l[1]=E=>F.value=E),required:""},null,512),[[Y,F.value,void 0,{trim:!0}]])])]),t("div",Td,[Ld,t("div",zd,[L(t("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=E=>p.value=E),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",required:""},null,512),[[Y,p.value,void 0,{trim:!0}]])])]),t("div",Od,[Nd,t("div",qd,[L(t("input",{type:"password","onUpdate:modelValue":l[3]||(l[3]=E=>r.value=E),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",required:""},null,512),[[Y,r.value,void 0,{trim:!0}]])])])],2),t("div",Ud,[t("div",{class:"close",onClick:i,type:"button"},"\u8FD4\u56DE"),t("button",{class:"next save",type:"submit",disabled:s.value}," \u4FDD\u5B58 ",8,Hd)])],40,cd)]))}});var Wt=S(Rd,[["__scopeId","data-v-b1e12544"]]);const Wd={class:"action-main"},Gd=V({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,n=C(""),a=C("index"),d=s=>{if(s!=null){if(s=="ddnsto"){F();return}a.value=s}else p()},F=()=>{p(),ed({url:u.url})},p=()=>{u.Close&&u.Close()},r=C("ddnsto");return(s,i)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>[t("div",Wd,[a.value=="index"?(o(),z(sc,{key:0,onSetup:d,active:r.value,"onUpdate:active":i[0]||(i[0]=_=>r.value=_)},null,8,["active"])):a.value=="ddns-ali"?(o(),z(Wt,{key:1,onSetup:d,target:n.value,"onUpdate:target":i[1]||(i[1]=_=>n.value=_),name:"ali"},null,8,["target"])):a.value=="ddns-dnspod"?(o(),z(Wt,{key:2,onSetup:d,target:n.value,"onUpdate:target":i[2]||(i[2]=_=>n.value=_),name:"dnspod"},null,8,["target"])):a.value=="ddns-oray"?(o(),z(Wt,{key:3,onSetup:d,target:n.value,"onUpdate:target":i[3]||(i[3]=_=>n.value=_),name:"oray"},null,8,["target"])):a.value=="ddns-success"?(o(),z(hc,{key:4,onSetup:d,target:n.value},null,8,["target"])):$("",!0)])]),_:1},8,["Close"]))}});var Zd=S(Gd,[["__scopeId","data-v-5d97cabd"]]);const Gt=e=>{const u=document.createElement("div");document.body.appendChild(u);const n=st(Zd,ht(vt({},e),{Close:()=>{a()}}));n.mount(u);const a=()=>{n.unmount(),u.remove()};return{Close:a}};var jd=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var u=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(u.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":u.blur();break;default:u=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(d){e.addRange(d)}),u&&u.focus()}},Xd=jd,be={"text/plain":"Text","text/html":"Url",default:"Text"},Qd="Copy to clipboard: #{key}, Enter";function Yd(e){var u=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,u)}function Kd(e,u){var n,a,d,F,p,r,s=!1;u||(u={}),n=u.debug||!1;try{d=Xd(),F=document.createRange(),p=document.getSelection(),r=document.createElement("span"),r.textContent=e,r.ariaHidden="true",r.style.all="unset",r.style.position="fixed",r.style.top=0,r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",function(_){if(_.stopPropagation(),u.format)if(_.preventDefault(),typeof _.clipboardData=="undefined"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=be[u.format]||be.default;window.clipboardData.setData(f,e)}else _.clipboardData.clearData(),_.clipboardData.setData(u.format,e);u.onCopy&&(_.preventDefault(),u.onCopy(_.clipboardData))}),document.body.appendChild(r),F.selectNodeContents(r),p.addRange(F);var i=document.execCommand("copy");if(!i)throw new Error("copy command was unsuccessful");s=!0}catch(_){n&&console.error("unable to copy using execCommand: ",_),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(u.format||"text",e),u.onCopy&&u.onCopy(window.clipboardData),s=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),a=Yd("message"in u?u.message:Qd),window.prompt(a,e)}}finally{p&&(typeof p.removeRange=="function"?p.removeRange(F):p.removeAllRanges()),r&&document.body.removeChild(r),d()}return s}var Jd=Kd;const Kt=e=>(q("data-v-2f910f70"),e=e(),U(),e),tr={class:"button",style:{"margin-bottom":"8px"}},er={href:"https://www.kooldns.cn/app/#/devices",target:"_blank"},ur={class:"row"},nr={class:"text"},sr=Kt(()=>t("span",null,"DDNSTO\uFF1A",-1)),or={key:0},ar=["href","title"],ir={key:0,class:"row"},lr={class:"text"},cr=Kt(()=>t("span",null,"muddns_ipv4\uFF1A",-1)),dr={key:0,class:"configure"},rr=["href"],_r={key:0,class:"button"},pr={key:1,class:"row"},vr={class:"text"},hr=Kt(()=>t("span",null,"muddns_ipv6\uFF1A",-1)),Fr={key:0,class:"configure"},mr=["href"],fr={key:0,class:"button"},Er=V({__name:"ddns",setup(e){const u=C({});let n=!1,a;const d=s=>{Jd(s),A.Message("\u590D\u5236\u6210\u529F")};et(()=>{n=!0,a=window.setTimeout(r,1100)}),Bt(()=>{a!==void 0&&window.clearTimeout(a),n=!1});const F=W(()=>{const s=u.value.ipv4Domain;return!s||s=="Stopped"||s=="Disabled"?s:`http://${s}`}),p=W(()=>{const s=u.value.ipv6Domain;return!s||s=="Stopped"||s=="Disabled"?s:`http://${s}`}),r=function(){!n||P.Guide.Ddns.GET().then(s=>{var i;s!=null&&s.data&&(((i=s==null?void 0:s.data)==null?void 0:i.success)||0)==0&&s.data.result&&(u.value=s.data.result)}).then(()=>{})};return(s,i)=>(o(),z(j,{title:s.$t("\u8FDC\u7A0B\u57DF\u540D"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/3yFiX5-X/",span:24,action:{text:s.$t("\u5FEB\u901F\u914D\u7F6E"),onClick:()=>{R(Gt)({url:u.value.ddnstoDomain})}}},{default:M(()=>{var _,f,b,D,v;return[t("div",tr,[t("a",er,m(s.$t("\u524D\u5F80\u63A7\u5236\u53F0")),1)]),t("div",ur,[t("div",nr,[sr,(_=u.value)!=null&&_.ddnstoDomain?(o(),c("span",or,[t("a",{class:"configure",href:(f=u.value)==null?void 0:f.ddnstoDomain,target:"_blank",rel:"noopener noreferrer",title:(b=u.value)==null?void 0:b.ddnstoDomain},m((D=u.value)==null?void 0:D.ddnstoDomain),9,ar),t("img",{src:q1,onClick:i[0]||(i[0]=l=>{var E;return d((E=u.value)==null?void 0:E.ddnstoDomain)})})])):(o(),c("span",{key:1,onClick:i[1]||(i[1]=l=>R(Gt)({url:u.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer"},class:"configure"},m(s.$t("\u7ACB\u5373\u914D\u7F6E\uFF0C\u83B7\u5F97\u514D\u8D39\u5916\u7F51\u57DF\u540D")),1))]),(v=u.value)!=null&&v.ddnstoDomain?(o(),c("span",{key:0,onClick:i[2]||(i[2]=l=>R(Gt)({url:u.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer","font-size":"12px"}},"\u8BBF\u95EE\u5931\u8D25\uFF1F\u91CD\u65B0\u914D\u7F6E")):$("",!0)]),F.value?(o(),c("div",ir,[t("div",lr,[cr,F.value==="Stopped"||F.value==="Disabled"?(o(),c("span",dr,m(F.value),1)):(o(),c("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:F.value,class:"configure"},m(F.value),9,rr))]),F.value?(o(),c("div",_r,[t("span",{onClick:i[3]||(i[3]=l=>R(at)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},m(s.$t("\u7F16\u8F91")),1)])):$("",!0)])):$("",!0),p.value?(o(),c("div",pr,[t("div",vr,[hr,p.value==="Stopped"||p.value==="Disabled"?(o(),c("span",Fr,m(p.value),1)):(o(),c("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:p.value,class:"configure"},m(p.value),9,mr))]),p.value?(o(),c("div",fr,[t("span",{onClick:i[4]||(i[4]=l=>R(at)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},m(s.$t("\u7F16\u8F91")),1)])):$("",!0)])):$("",!0)]}),_:1},8,["title","action"]))}});var Cr=S(Er,[["__scopeId","data-v-2f910f70"]]);const gr={},$r={width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},br=t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),yr=[br];function Dr(e,u){return o(),c("svg",$r,yr)}var kr=S(gr,[["render",Dr]]);const Q=e=>(q("data-v-097a32fc"),e=e(),U(),e),Br={key:0,class:"action"},wr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Ar=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),xr={key:1,class:"action"},Sr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Ir=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),Pr={class:"roots"},Vr=Q(()=>t("span",{class:"roots_tit"},"Docker\u6839\u76EE\u5F55\uFF1A",-1)),Mr={class:"root"},Tr={class:"move"},Lr=Q(()=>t("span",{class:"roots_tit"},"\u8FC1\u79FB\u5230\uFF1A",-1)),zr={key:0},Or=["onSubmit"],Nr={class:"select-editable"},qr=Q(()=>t("option",{selected:"",value:null},"\u8BF7\u9009\u62E9\u8FC1\u79FB\u5730\u5740",-1)),Ur=["value"],Hr=Q(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),Rr={key:1,class:"tips"},Wr={class:"tips_content"},Gr=Q(()=>t("span",{class:"tip"},"\u68C0\u6D4B\u5230\u60A8\u8FD8\u6CA1\u6709\u6302\u8F7D\u5916\u7F6E\u786C\u76D8\u6216\u5206\u533A\u5C0F\u4E8E8GB\uFF0C\u9700\u8981\u60A8\u63A5\u4E0A\u786C\u76D8\u5E76\u683C\u5F0F\u5316\u6216\u624B\u52A8\u6302\u8F7D\u786C\u76D8\u540E\uFF0C\u518D\u6267\u884CDocker\u8FC1\u79FB\u5411\u5BFC\uFF0C\u5C06Docker\u8FC1\u79FB\u5230\u76EE\u6807\u786C\u76D8\u3002",-1)),Zr={key:0,class:"btns"},jr={key:1,class:"btns"},Xr={key:2,class:"action docker_success"},Qr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Yr={class:"finished"},Kr=Q(()=>t("p",{class:"successed"},"\u8FC1\u79FB\u6210\u529F\uFF01",-1)),Jr={key:3,class:"action docker_download"},t5=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),e5={class:"finished"},u5=Q(()=>t("p",{class:"successed"},"\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0D\u4E3A\u7A7A",-1)),n5={class:"docker_moves"},s5={class:"moves change"},o5=Q(()=>t("label",{for:"move"},"\u66F4\u6362\u76EE\u5F55\uFF08\u4E0D\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u4EC5\u5C06docker\u76EE\u5F55\u4FEE\u6539\u4E3A\u76EE\u6807\u8DEF\u5F84\uFF09",-1)),a5={class:"moves"},i5=Q(()=>t("label",{for:"cover"},"\u8986\u76D6\u8FC1\u79FB\uFF08\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u7EE7\u7EED\u8FC1\u79FB\u4F1A\u6E05\u7A7A\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\uFF09",-1)),l5={class:"btns"},c5=V({__name:"index",props:{rootPath:{type:String,required:!0},Close:Function},setup(e){const u=e,n=C(),a=C(),d=C(0),F=C("null"),p=C(""),r=C(),s=C(!1),i=C("");(()=>{P.Nas.Disk.Status.GET().then(h=>{h!=null&&h.data.result&&(r.value=h==null?void 0:h.data.result)}),P.Guide.DockerStatus.GET().then(h=>{var k;if((k=h==null?void 0:h.data)!=null&&k.result){const w=h.data.result;n.value=w}}),P.Guide.DockerPartitionList.GET().then(h=>{var k;if((k=h==null?void 0:h.data)!=null&&k.result){const w=h.data.result;a.value=w}})})();const f=h=>{let k=F.value;if(k=="useInput"&&(k=p.value),k==null||k=="null"||k=="")return;const w=A.Loading("\u6B63\u5728\u8FC1\u79FB\u4E2D...");P.Guide.DockerTransfer.POST({path:k,force:h,overwriteDir:!!i.value}).then(y=>{var g;if(y!=null&&y.data){if((y.data.success||0)==0){if((g=y.data.result)!=null&&g.emptyPathWarning){s.value=!0,d.value=2;return}d.value=1;return}else if(y.data.error)throw y.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(y=>{A.Error(y)}).finally(()=>w.Close())},b=()=>{s.value=!1,f(!1)},D=h=>{h.preventDefault(),u.Close&&u.Close()},v=h=>{h.preventDefault(),location.reload()},l=h=>{h.preventDefault(),d.value=0},E=h=>{h.preventDefault(),f(!0)};return(h,k)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>{var w,y,g,B,H,I;return[d.value==-1?(o(),c("div",Br,[wr,Ar,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])])):d.value==0?(o(),c("div",xr,[Sr,Ir,t("div",Pr,[Vr,t("span",Mr,m((w=n.value)==null?void 0:w.path),1)]),t("div",Tr,[Lr,(g=(y=a.value)==null?void 0:y.partitionList)!=null&&g.length?(o(),c("div",zr,[t("form",{onSubmit:lt(b,["prevent"])},[t("label",null,[t("div",Nr,[L(t("select",{"onUpdate:modelValue":k[0]||(k[0]=O=>F.value=O)},[qr,(o(!0),c(N,null,K((B=a.value)==null?void 0:B.partitionList,(O,nt)=>(o(),c("option",{value:O,key:nt},m(O),9,Ur))),128)),Hr],512),[[Et,F.value,void 0,{trim:!0}]]),F.value=="useInput"?L((o(),c("input",{key:0,type:"text","onUpdate:modelValue":k[1]||(k[1]=O=>p.value=O),required:"",placeholder:"\u8BF7\u8F93\u5165\u8FC1\u79FB\u5730\u5740"},null,512)),[[Y,p.value,void 0,{trim:!0}]]):$("",!0)])])],40,Or)])):a.value?(o(),c("div",Rr,[t("div",Wr,[x(dt),Gr])])):$("",!0)]),(I=(H=a.value)==null?void 0:H.partitionList)!=null&&I.length?(o(),c("div",Zr,[t("button",{class:"cbi-button cbi-button-apply",onClick:b}," \u786E\u5B9A "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])):(o(),c("div",jr,[t("button",{class:"cbi-button cbi-button-apply",onClick:D}," \u786E\u5B9A ")]))])):d.value==1?(o(),c("div",Xr,[Qr,t("div",Yr,[x(Yt)]),Kr,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:v}," \u786E\u5B9A ")])])):d.value==2?(o(),c("div",Jr,[t5,t("div",e5,[x(kr)]),u5,t("div",n5,[t("div",s5,[L(t("input",{type:"radio",id:"move",name:"moves","onUpdate:modelValue":k[2]||(k[2]=O=>i.value=O),value:""},null,512),[[it,i.value]]),o5]),t("div",a5,[L(t("input",{type:"radio",id:"cover",name:"moves","onUpdate:modelValue":k[3]||(k[3]=O=>i.value=O),value:"true"},null,512),[[it,i.value]]),i5])]),t("div",l5,[s.value?(o(),c("button",{key:0,class:"cbi-button cbi-button-apply",onClick:E}," \u786E\u5B9A ")):$("",!0),t("button",{class:"cbi-button cbi-button-apply",onClick:l}," \u8FD4\u56DE "),s.value?$("",!0):(o(),c("button",{key:1,class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:v}," \u53D6\u6D88 "))])])):$("",!0)]}),_:1},8,["Close"]))}});var d5=S(c5,[["__scopeId","data-v-097a32fc"]]);const ye=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=st(d5,{Close:()=>{n()}});u.mount(e);const n=()=>{u.unmount(),e.remove()};return{Close:n}};const r5=e=>(q("data-v-750b6b3e"),e=e(),U(),e),_5={class:"button"},p5={class:"row"},v5={class:"text"},h5={key:0,class:"docker-item-value"},F5={class:"configure"},m5={key:1,class:"docker-item-value"},f5={class:"input-switch"},E5=["value","disabled"],C5=r5(()=>t("em",null,null,-1)),g5=[C5],$5={key:0,class:"row"},b5={class:"text"},y5={style:{width:"100%"}},D5={class:"configure"},k5={key:0},B5={class:"tooltip-trigger"},w5={class:"docker_tip"},A5={class:"tooltip-text tooltip-top"},x5={class:"docker_dir_tip"},S5=V({__name:"docker",setup(e){const u=C(!1),n=C(),a=mt({enable:!1,disabled:!1}),d=()=>T(this,null,function*(){const s=A.Loading(a.enable?"Docker\u5F00\u542F\u4E2D...":"Docker\u5173\u95ED\u4E2D...");a.disabled=!0;try{const i=yield P.Guide.DockerSwitch.POST({enable:a.enable});if(i!=null&&i.data){const{success:_,error:f}=i.data;if(f)throw a.enable=!a.enable,f;(_||0)==0&&r()}}catch(i){A.Warning(`${i}`)}finally{a.disabled=!1}s.Close()}),F=()=>{window.open("/cgi-bin/luci/admin/docker/overview","_blank")},p=()=>{ye()},r=()=>{P.Guide.DockerStatus.GET().then(s=>{var i;if((i=s==null?void 0:s.data)!=null&&i.result){const _=s.data.result;n.value=_,_.status==="running"&&(a.enable=!0)}}).finally(()=>{u.value=!0})};return setTimeout(r,1100),(s,i)=>{var _;return o(),z(j,{title:"Docker",padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",moreActions:[{show:((_=n.value)==null?void 0:_.status)==="running",text:"\u67E5\u770BDocker\u4FE1\u606F",onClick:p}],span:24},{default:M(()=>{var f,b,D,v;return[t("div",_5,[t("span",{onClick:i[0]||(i[0]=l=>R(ye)({setup:0}))},m(s.$t("\u8FC1\u79FB\u5411\u5BFC")),1),t("span",{onClick:F},m(s.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)]),t("div",p5,[t("div",v5,[t("span",null,m(s.$t("\u5F53\u524D\u72B6\u6001")),1)]),(f=n.value)!=null&&f.status?(o(),c(N,{key:0},[((b=n.value)==null?void 0:b.status)==="not installed"?(o(),c("div",h5,[t("span",F5,m(s.$t("\u672A\u5B89\u88C5")),1)])):(o(),c("div",m5,[t("label",f5,[L(t("input",{type:"checkbox",hidden:"",value:!a.enable,"onUpdate:modelValue":i[1]||(i[1]=l=>a.enable=l),disabled:a.disabled,onChange:d},null,40,E5),[[Be,a.enable]]),t("span",{class:Qt(a.enable?"enable":"close")},g5,2)])]))],64)):$("",!0)]),a.enable?(o(),c("div",$5,[t("div",b5,[t("span",null,"Docker "+m(s.$t("\u6839\u76EE\u5F55"))+"\uFF1A",1),t("div",y5,[t("span",D5,m((D=n.value)==null?void 0:D.path),1),(v=n.value)!=null&&v.errorInfo?(o(),c("span",k5,[t("span",B5,[t("span",w5,[x(dt)]),t("div",null,[t("div",A5,[t("span",x5,m(n.value.errorInfo),1)])])])])):$("",!0)])])])):$("",!0)]}),_:1},8,["moreActions"])}}});var I5=S(S5,[["__scopeId","data-v-750b6b3e"]]);const P5=e=>(q("data-v-68b4579e"),e=e(),U(),e),V5={class:"select-editable"},M5=["value"],T5=P5(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),L5=["placeholder"],z5=V({__name:"index",props:{modelValue:{type:String,required:!0},title:{type:String,default:""},options:{type:Array,default:[]}},emits:["update:modelValue"],setup(e,{emit:u}){const n=e,a=C(""),d=C(""),F=W({get:()=>n.modelValue.valueOf(),set:i=>u("update:modelValue",i)}),p=i=>{if(i===a.value||a.value==="useInput"&&i===d.value){F.value=n.options[0].key;return}i===""||n.options.some(_=>_.key===i)?a.value=i:(d.value=i,a.value="useInput")};tu(()=>n.modelValue,i=>{p(i)}),et(()=>{const i=F.value;p(i)});const r=i=>{a.value==="useInput"?F.value=d.value:F.value=a.value},s=i=>{F.value=d.value};return(i,_)=>(o(),c("label",null,[t("div",V5,[L(t("select",{"onUpdate:modelValue":_[0]||(_[0]=f=>a.value=f),autocomplete:"off",onChange:r},[(o(!0),c(N,null,K(e.options,(f,b)=>(o(),c("option",{value:f.key,key:b},m(f.value||f.key),9,M5))),128)),T5],544),[[Et,a.value,void 0,{trim:!0}]]),a.value=="useInput"?L((o(),c("input",{key:0,type:"text","onUpdate:modelValue":_[1]||(_[1]=f=>d.value=f),required:"",placeholder:"\u8BF7\u8F93\u5165"+e.title,onChange:s},null,40,L5)),[[Y,d.value,void 0,{trim:!0}]]):$("",!0)])]))}});var kt=S(z5,[["__scopeId","data-v-68b4579e"]]);const O5={},N5={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},q5=t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6","fill-opacity":"0.65"},null,-1),U5=[q5];function H5(e,u){return o(),c("svg",N5,U5)}var $t=S(O5,[["render",H5]]);const G=e=>(q("data-v-f4c41bf2"),e=e(),U(),e),R5={key:0,class:"action"},W5=G(()=>t("h2",{class:"title"},"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",-1)),G5={class:"load_service input_row"},Z5=G(()=>t("div",{class:"left"},[t("span",null,"\u4E0B\u8F7D\u670D\u52A1\uFF1A")],-1)),j5={class:"radios"},X5=G(()=>t("label",{for:"Aria2"},"Aria2",-1)),Q5={class:"radios"},Y5=G(()=>t("label",{for:"qB"},"qBittorrent",-1)),K5={class:"radios"},J5=G(()=>t("label",{for:"Tr"},"Transmission",-1)),t6=["onSubmit"],e6={class:"input_row"},u6={class:"left"},n6={class:"tooltip-trigger"},s6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/aria2\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),o6=G(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),a6={class:"myinput_wrap"},i6={class:"input_row"},l6={class:"left"},c6={class:"tooltip-trigger"},d6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),r6=G(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),_6={class:"myinput_wrap"},p6={class:"input_row"},v6={class:"left"},h6={class:"tooltip-trigger"},F6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-bottom"},[t("span",{class:"dowload_rpc_tip"},"\u7528\u4E8E\u8FDC\u7A0B\u8BBF\u95EE\u7684\u4EE4\u724C\u3002")])],-1)),m6=G(()=>t("span",null,"RPC \u4EE4\u724C\uFF1A",-1)),f6={class:"input_row"},E6=G(()=>t("div",{class:""},[t("span",null,"\u9644\u52A0\u7684 BT Tracker\uFF1A")],-1)),C6={class:"radios"},g6=G(()=>t("label",{for:"default"},"\u9ED8\u8BA4",-1)),$6={class:"radios"},b6=G(()=>t("label",{for:"add"},"\u81EA\u5DF1\u6DFB\u52A0",-1)),y6={class:"input_row"},D6=G(()=>t("div",{class:"left"},null,-1)),k6={class:"myinput_wrap Tracker_input"},B6=["onSubmit"],w6={class:"input_row"},A6={class:"left"},x6={class:"tooltip-trigger"},S6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/qb\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),I6=G(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),P6={class:"myinput_wrap"},V6={class:"input_row"},M6={class:"left"},T6={class:"tooltip-trigger"},L6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),z6=G(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),O6={class:"myinput_wrap"},N6=["onSubmit"],q6={class:"input_row"},U6={class:"left"},H6={class:"tooltip-trigger"},R6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/tr\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),W6=G(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),G6={class:"myinput_wrap"},Z6={class:"input_row"},j6={class:"left"},X6={class:"tooltip-trigger"},Q6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),Y6=G(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),K6={class:"myinput_wrap"},J6={class:"btns"},t0={key:1,class:"action"},e0={class:"title"},u0={class:"finished"},n0=G(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),s0=V({__name:"index",props:{services:{type:Object,required:!0},partitionList:{type:Array,required:!0},defaultTab:{type:String,required:!1},Close:Function},setup(e){const u=e,n=C(""),a=C(""),d=C(""),F=C(""),p=C("default"),r=C("Aria2"),s=C(""),i=C(""),_=C(""),f=C(""),b=C([]),D=C([]),v=C(0);et(()=>{var I,O,nt,xt,St,It,Pt,Vt,Mt,Tt;switch(u.defaultTab){case"aria2":r.value="Aria2";break;case"qbittorrent":r.value="qBittorrent";break;case"transmission":r.value="Transmission";break}b.value=u.partitionList.map(pt=>({key:pt})),D.value=u.partitionList.filter(pt=>pt.startsWith("/mnt/")).map(pt=>pt.replace(/(\/mnt\/[^/]+).*/,"$1")),d.value=((I=u.services.aria2)==null?void 0:I.configPath)||"";const y=((O=u.services.aria2)==null?void 0:O.downloadPath)||((nt=u.services.qbittorrent)==null?void 0:nt.downloadPath)||((xt=u.services.transmission)==null?void 0:xt.downloadPath);y&&(F.value=y);const g=(St=u.services.aria2)==null?void 0:St.rpcToken;g&&(n.value=g),s.value=((It=u.services.qbittorrent)==null?void 0:It.configPath)||"";const B=((Pt=u.services.qbittorrent)==null?void 0:Pt.downloadPath)||y||((Vt=u.services.transmission)==null?void 0:Vt.downloadPath);B&&(i.value=B),_.value=((Mt=u.services.transmission)==null?void 0:Mt.configPath)||"";const H=((Tt=u.services.transmission)==null?void 0:Tt.downloadPath)||y||B;H&&(f.value=H)});const l=()=>{let y=d.value,g=F.value;y==null||y==""||g==null||g==""||T(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-aria2","Aria2")){const H=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.Aria2Init.POST({configPath:y,downloadPath:g,rpcToken:n.value,btTracker:p.value=="add"?a.value:""}).then(I=>{var O;if(I!=null&&I.data){if((I.data.success||0)==0){v.value=1;return}else if((O=I.data)!=null&&O.error)throw I.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(I=>A.Error(I)).finally(()=>H.Close())}})},E=()=>{let y=s.value,g=i.value;y==null||y==""||g==null||g==""||T(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-qbittorrent","qBittorrent")){const H=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.qbitorrentInit.POST({configPath:y,downloadPath:g}).then(I=>{var O;if(I!=null&&I.data){if((I.data.success||0)==0){v.value=1;return}else if((O=I.data)!=null&&O.error)throw I.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(I=>A.Error(I)).finally(()=>H.Close())}})},h=()=>{let y=_.value,g=f.value;y==null||y==""||g==null||g==""||T(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-transmission","Transmission")){const H=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.transmissionInit.POST({configPath:y,downloadPath:g}).then(I=>{var O;if(I!=null&&I.data){if((I.data.success||0)==0){v.value=1;return}else if((O=I.data)!=null&&O.error)throw I.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(I=>A.Error(I)).finally(()=>H.Close())}})},k=y=>{y.preventDefault(),u.Close&&u.Close()},w=y=>{y.preventDefault(),location.reload()};return(y,g)=>(o(),z(ot,{Close:e.Close,type:1},{default:M(()=>[v.value==0?(o(),c("div",R5,[W5,t("ul",null,[t("li",null,[t("div",G5,[Z5,t("div",j5,[L(t("input",{type:"radio",value:"Aria2","onUpdate:modelValue":g[0]||(g[0]=B=>r.value=B),name:"download",id:"Aria2"},null,512),[[it,r.value]]),X5]),t("div",Q5,[L(t("input",{type:"radio",value:"qBittorrent","onUpdate:modelValue":g[1]||(g[1]=B=>r.value=B),name:"download",id:"qB"},null,512),[[it,r.value]]),Y5]),t("div",K5,[L(t("input",{type:"radio",value:"Transmission","onUpdate:modelValue":g[2]||(g[2]=B=>r.value=B),name:"download",id:"Tr"},null,512),[[it,r.value]]),J5])])])]),r.value=="Aria2"?(o(),c("form",{key:0,onSubmit:lt(l,["prevent"])},[t("ul",null,[t("li",null,[t("div",e6,[t("div",u6,[t("span",n6,[x($t),s6]),o6]),t("div",a6,[x(kt,{modelValue:d.value,"onUpdate:modelValue":g[3]||(g[3]=B=>d.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(B=>({key:B+"/Configs/aria2"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",i6,[t("div",l6,[t("span",c6,[x($t),d6]),r6]),t("div",_6,[x(kt,{modelValue:F.value,"onUpdate:modelValue":g[4]||(g[4]=B=>F.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])]),t("li",null,[t("div",p6,[t("div",v6,[t("span",h6,[x($t),F6]),m6]),L(t("input",{type:"text",class:"RPC_input",placeholder:"\u8BF7\u8F93\u5165RPC\u4EE4\u724C","onUpdate:modelValue":g[5]||(g[5]=B=>n.value=B)},null,512),[[Y,n.value,void 0,{trim:!0}]])])]),t("li",null,[t("div",f6,[E6,t("div",C6,[L(t("input",{type:"radio",value:"default",name:"BT",id:"default","onUpdate:modelValue":g[6]||(g[6]=B=>p.value=B)},null,512),[[it,p.value]]),g6]),t("div",$6,[L(t("input",{type:"radio",value:"add",name:"BT",id:"add","onUpdate:modelValue":g[7]||(g[7]=B=>p.value=B)},null,512),[[it,p.value]]),b6])])]),t("li",null,[t("div",y6,[D6,t("div",k6,[p.value=="add"?L((o(),c("textarea",{key:0,"onUpdate:modelValue":g[8]||(g[8]=B=>a.value=B),rows:"4",placeholder:"\u8BF7\u8F93\u5165BT Tracker\u670D\u52A1\u5668\u5730\u5740\uFF0C\u591A\u4E2A\u5730\u5740\u4F7F\u7528\u6362\u884C\u6216\u8005\u82F1\u6587\u9017\u53F7\u5206\u9694"},null,512)),[[Y,a.value,void 0,{trim:!0}]]):$("",!0)])])])])],40,t6)):$("",!0),r.value=="qBittorrent"?(o(),c("form",{key:1,onSubmit:lt(E,["prevent"])},[t("ul",null,[t("li",null,[t("div",w6,[t("div",A6,[t("span",x6,[x($t),S6]),I6]),t("div",P6,[x(kt,{modelValue:s.value,"onUpdate:modelValue":g[9]||(g[9]=B=>s.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(B=>({key:B+"/Configs/qb"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",V6,[t("div",M6,[t("span",T6,[x($t),L6]),z6]),t("div",O6,[x(kt,{modelValue:i.value,"onUpdate:modelValue":g[10]||(g[10]=B=>i.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])])])],40,B6)):$("",!0),r.value=="Transmission"?(o(),c("form",{key:2,onSubmit:lt(h,["prevent"])},[t("ul",null,[t("li",null,[t("div",q6,[t("div",U6,[t("span",H6,[x($t),R6]),W6]),t("div",G6,[x(kt,{modelValue:_.value,"onUpdate:modelValue":g[11]||(g[11]=B=>_.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(B=>({key:B+"/Configs/transmission"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",Z6,[t("div",j6,[t("span",X6,[x($t),Q6]),Y6]),t("div",K6,[x(kt,{modelValue:f.value,"onUpdate:modelValue":g[12]||(g[12]=B=>f.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])])])],40,N6)):$("",!0),t("div",J6,[r.value=="Aria2"?(o(),c("button",{key:0,class:"cbi-button cbi-button-apply",onClick:l}," \u542F\u7528 ")):$("",!0),r.value=="qBittorrent"?(o(),c("button",{key:1,class:"cbi-button cbi-button-apply",onClick:E}," \u542F\u7528 ")):$("",!0),r.value=="Transmission"?(o(),c("button",{key:2,class:"cbi-button cbi-button-apply",onClick:h}," \u542F\u7528 ")):$("",!0),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:k}," \u53D6\u6D88 ")])])):v.value==1?(o(),c("div",t0,[t("h2",e0,m(r.value)+"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",1),t("div",u0,[x(Yt)]),n0,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:w}," \u786E\u5B9A ")])])):$("",!0)]),_:1},8,["Close"]))}});var o0=S(s0,[["__scopeId","data-v-f4c41bf2"]]);const a0=e=>{const u=document.createElement("div");document.body.appendChild(u);const n=st(o0,ht(vt({},e),{Close:()=>{a()}}));n.mount(u);const a=()=>{n.unmount(),u.remove()};return{Close:a}};const Ut=e=>(q("data-v-63fbd04d"),e=e(),U(),e),i0={class:"service-item"},l0={class:"name"},c0=Ut(()=>t("span",null,"Aria2",-1)),d0={class:"button"},r0={class:"info"},_0=["href"],p0=["href"],v0=Ut(()=>t("span",null,[Z("\u4F7F\u7528"),t("a",{href:"https://doc.linkease.com/zh/guide/linkease_app/tutorial.html#%E8%BF%9C%E7%A8%8B%E4%B8%8B%E8%BD%BD",target:"_blank"},"\u6613\u6709\u4E91APP"),Z("\uFF0C\u968F\u65F6\u968F\u5730\u8FDC\u7A0B\u4E0B\u8F7D")],-1)),h0={key:0},F0=["href"],m0={class:"service-item"},f0={class:"name"},E0=Ut(()=>t("span",null,"qBittorrent",-1)),C0={key:0,class:"button"},g0={class:"info"},$0=["href"],b0=["href"],y0={class:"service-item"},D0={class:"name"},k0=Ut(()=>t("span",null,"Transmission",-1)),B0={key:0,class:"button"},w0={class:"info"},A0=["href"],x0=V({__name:"download",setup(e){const u=C(),n=C("aria2"),a=C(window.location),d=()=>{P.Guide.DownloadPartition.List.GET().then(s=>{var _,f;let i=[];(f=(_=s==null?void 0:s.data)==null?void 0:_.result)!=null&&f.partitionList&&(i=s.data.result.partitionList),a0({services:u.value,partitionList:i,defaultTab:n.value})})},F=()=>{P.Guide.DownloadService.Status.GET().then(s=>{var i;if((i=s==null?void 0:s.data)!=null&&i.result){const _=s.data.result;u.value=_}})},p=W(()=>{var s,i,_;if(u){let f=(s=u==null?void 0:u.aria2)==null?void 0:s.rpcToken;f&&(f=encodeURIComponent(btoa(f)));const b=encodeURIComponent(window.location.hostname);return`${window.location.origin}${(i=u==null?void 0:u.aria2)==null?void 0:i.webPath}/#!/settings/rpc/set/http/${b}/${(_=u==null?void 0:u.aria2)==null?void 0:_.rpcPort}/jsonrpc/${f}`}}),r=(s,i,_)=>T(this,null,function*(){window.open(_,"_blank")});return setTimeout(F,800),(s,i)=>(o(),z(j,{title:s.$t("\u4E0B\u8F7D\u670D\u52A1"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",span:24,action:{text:s.$t("\u5FEB\u901F\u914D\u7F6E"),onClick:d}},{default:M(()=>{var _,f,b,D,v,l,E,h,k,w,y,g,B,H,I,O,nt,xt,St,It,Pt,Vt,Mt,Tt,pt,Jt,te,ee,ue,ne,se,oe,ae,ie,le,ce,de,re,_e,pe;return[t("div",i0,[t("div",l0,[t("span",null,[c0,t("span",null,m(s.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),t("div",d0,[t("span",{onClick:i[0]||(i[0]=ve=>r("app-meta-aria2","Aria2","/cgi-bin/luci/admin/services/aria2"))},m(s.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])]),t("div",r0,[t("span",null,m(s.$t("\u5F53\u524D\u72B6\u6001"))+"\uFF1A"+m(`${((f=(_=u.value)==null?void 0:_.aria2)==null?void 0:f.status)==="running"?s.$t("\u5DF2\u542F\u52A8"):s.$t("\u672A\u542F\u52A8")}`),1),((D=(b=u.value)==null?void 0:b.aria2)==null?void 0:D.status)=="running"?(o(),c(N,{key:0},[t("span",null,[Z(m(s.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((l=(v=u.value)==null?void 0:v.aria2)==null?void 0:l.downloadPath)},m((h=(E=u.value)==null?void 0:E.aria2)==null?void 0:h.downloadPath),9,_0)]),t("span",null,[Z(m(s.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${a.value.hostname}${(w=(k=u.value)==null?void 0:k.aria2)==null?void 0:w.webPath}`,target:"_blank",rel:"noopener noreferrer"},m(`http://${a.value.hostname}${(g=(y=u.value)==null?void 0:y.aria2)==null?void 0:g.webPath}`),9,p0)])],64)):$("",!0),t("div",null,[v0,((H=(B=u.value)==null?void 0:B.aria2)==null?void 0:H.status)==="running"?(o(),c("span",h0,[Z(m(s.$t("\u8BA4\u8BC1\u5931\u8D25"))+"\uFF1F ",1),t("a",{href:p.value,target:"_blank",rel:"noopener noreferrer"}," \u70B9\u6B64\u81EA\u52A8\u586B\u5145\u5BC6\u94A5 ",8,F0)])):$("",!0)])])]),t("div",m0,[t("div",f0,[t("span",null,[E0,t("span",null,m(s.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),((O=(I=u.value)==null?void 0:I.qbittorrent)==null?void 0:O.status)==="running"?(o(),c("div",C0,[t("span",{onClick:i[1]||(i[1]=ve=>r("app-meta-qbittorrent","qBittorrent","/cgi-bin/luci/admin/nas/qBittorrent"))},m(s.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])):$("",!0)]),t("div",g0,[t("span",null,m(`${s.$t("\u5F53\u524D\u72B6\u6001")}\uFF1A${((xt=(nt=u.value)==null?void 0:nt.qbittorrent)==null?void 0:xt.status)==="running"?s.$t("\u5DF2\u542F\u52A8"):s.$t("\u672A\u542F\u52A8")}`),1),((It=(St=u.value)==null?void 0:St.qbittorrent)==null?void 0:It.status)=="running"?(o(),c(N,{key:0},[t("span",null,[Z(m(s.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((Vt=(Pt=u.value)==null?void 0:Pt.qbittorrent)==null?void 0:Vt.downloadPath)},m((Tt=(Mt=u.value)==null?void 0:Mt.qbittorrent)==null?void 0:Tt.downloadPath),9,$0)]),t("span",null,[Z(m(s.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${a.value.hostname}${(Jt=(pt=u.value)==null?void 0:pt.qbittorrent)==null?void 0:Jt.webPath}`,target:"_blank",rel:"noopener noreferrer"},m(`http://${a.value.hostname}${(ee=(te=u.value)==null?void 0:te.qbittorrent)==null?void 0:ee.webPath}`),9,b0)])],64)):$("",!0)])]),t("div",y0,[t("div",D0,[t("span",null,[k0,t("span",null,m(s.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),((ne=(ue=u.value)==null?void 0:ue.transmission)==null?void 0:ne.status)==="running"?(o(),c("div",B0,[t("span",{onClick:i[2]||(i[2]=ve=>r("app-meta-transmission","Transmission","/cgi-bin/luci/admin/services/transmission"))},m(s.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])):$("",!0)]),t("div",w0,[t("span",null,m(`${s.$t("\u5F53\u524D\u72B6\u6001")}\uFF1A${((oe=(se=u.value)==null?void 0:se.transmission)==null?void 0:oe.status)==="running"?s.$t("\u5DF2\u542F\u52A8"):s.$t("\u672A\u542F\u52A8")}`),1),((ie=(ae=u.value)==null?void 0:ae.transmission)==null?void 0:ie.status)=="running"?(o(),c(N,{key:0},[t("span",null,m(s.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A "+m("/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((ce=(le=u.value)==null?void 0:le.transmission)==null?void 0:ce.downloadPath)),1),t("span",null,[Z(m(s.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1Ahttp ",1),t("a",{href:`http://${a.value.hostname}${(re=(de=u.value)==null?void 0:de.transmission)==null?void 0:re.webPath}`,target:"_blank",rel:"noopener noreferrer"},m(`http://${a.value.hostname}${(pe=(_e=u.value)==null?void 0:_e.transmission)==null?void 0:pe.webPath}`),9,A0)])],64)):$("",!0)])])]}),_:1},8,["title","action"]))}});var S0=S(x0,[["__scopeId","data-v-63fbd04d"]]);const I0=V({__name:"index",setup(e){return(u,n)=>(o(),z(ft,{title:u.$t("\u670D\u52A1\u72B6\u6001"),contentStyle:"flex-flow: column"},{default:M(()=>[x(Cr),x(I5),x(S0)]),_:1},8,["title"]))}});var P0="/luci-static/istorex/file.png?v=055a0ac9",V0="/luci-static/istorex/user.png?v=fa675eea",M0="/luci-static/istorex/setting.png?v=bf214b33",T0="/luci-static/istorex/file-manage.png?v=3297497e",L0="/luci-static/istorex/sync.png?v=8384453e",z0="/luci-static/istorex/photo.png?v=3178eb60",O0="/luci-static/istorex/network.png?v=3314b340",N0="/luci-static/istorex/nas.png?v=902703f1";const Oe=e=>(q("data-v-a711c820"),e=e(),U(),e),q0={class:"container"},U0={key:0,class:"desc"},H0=Oe(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),R0={key:1,class:"desc"},W0=Oe(()=>t("span",null,[Z(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),Z(" \u63D0\u4F9B ")],-1)),G0=["href"],Z0=V({__name:"install-photobackup",setup(e){const u=C(""),n=C(""),a=()=>T(this,null,function*(){const p=A.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){n.value="installed",A.Success("\u5B89\u88C5\u6210\u529F"),F();return}else A.Success("\u5B89\u88C5\u5931\u8D25")}finally{p.Close()}}),d=W(()=>`http://${location.hostname}:${u.value}`),F=()=>{P.Nas.Linkease.Enable.POST().then(p=>{var r,s;(r=p==null?void 0:p.data)!=null&&r.result&&(u.value=((s=p.data.result)==null?void 0:s.port)||"")})};return et(()=>T(this,null,function*(){const p=yield P.App.Check.POST({name:"linkease"});if(p!=null&&p.data){const{result:r,error:s}=p.data;r!=null&&r.status&&(n.value=r==null?void 0:r.status,r.status==="installed"&&F())}})),(p,r)=>(o(),z(Se,{title:"\u63D0\u793A",width:"572px"},{default:M(()=>[t("div",q0,[n.value==="uninstalled"?(o(),c("p",U0,[Z(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),H0,Z(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u5C06\u624B\u673A\u76F8\u518C\u5907\u4EFD\u81F3\u672C\u8BBE\u5907\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):$("",!0),n.value==="installed"?(o(),c("p",R0,[W0,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+m(d.value),1)])):$("",!0),n.value==="uninstalled"?(o(),c("button",{key:2,class:"btn",onClick:a}," \u7ACB\u5373\u5B89\u88C5 ")):$("",!0),n.value==="installed"?(o(),c("a",{key:3,class:"btn",target:"_blank",href:d.value},"\u7ACB\u5373\u8BBF\u95EE",8,G0)):$("",!0)])]),_:1}))}});var j0=S(Z0,[["__scopeId","data-v-a711c820"]]);const Ne=e=>(q("data-v-7c1d7115"),e=e(),U(),e),X0={class:"container"},Q0={key:0,class:"desc"},Y0=Ne(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),K0={key:1,class:"desc"},J0=Ne(()=>t("span",null,[Z(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),Z(" \u63D0\u4F9B ")],-1)),t2=["href"],e2=V({__name:"file-sync",setup(e){const u=C(""),n=C(""),a=()=>T(this,null,function*(){const p=A.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){n.value="installed",A.Success("\u5B89\u88C5\u6210\u529F"),F();return}else A.Success("\u5B89\u88C5\u5931\u8D25")}finally{p.Close()}}),d=W(()=>`http://${location.hostname}:${u.value}`),F=()=>{P.Nas.Linkease.Enable.POST().then(p=>{var r,s;(r=p==null?void 0:p.data)!=null&&r.result&&(u.value=((s=p.data.result)==null?void 0:s.port)||"")})};return et(()=>T(this,null,function*(){const p=yield P.App.Check.POST({name:"linkease"});if(p!=null&&p.data){const{result:r,error:s}=p.data;r!=null&&r.status&&(n.value=r==null?void 0:r.status,r.status==="installed"&&F())}})),(p,r)=>(o(),z(Se,{title:"\u63D0\u793A",width:"572px"},{default:M(()=>[t("div",X0,[n.value==="uninstalled"?(o(),c("p",Q0,[Z(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),Y0,Z(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u540C\u65F6\u76F8\u4E92\u5907\u4EFD\u591A\u53F0\u8BBE\u5907\u6587\u4EF6\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):$("",!0),n.value==="installed"?(o(),c("p",K0,[J0,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+m(d.value),1)])):$("",!0),n.value==="uninstalled"?(o(),c("button",{key:2,class:"btn",onClick:a}," \u7ACB\u5373\u5B89\u88C5 ")):$("",!0),n.value==="installed"?(o(),c("a",{key:3,class:"btn",target:"_blank",href:d.value},"\u7ACB\u5373\u8BBF\u95EE",8,t2)):$("",!0)])]),_:1}))}});var u2=S(e2,[["__scopeId","data-v-7c1d7115"]]);class n2 extends eu{Open(u){u==="sync"&&this.openWindow(u2),u==="backup"&&this.openWindow(j0)}}const De=new n2;const At=e=>(q("data-v-719851d0"),e=e(),U(),e),s2={class:"width-60 responsive"},o2={class:"card-content"},a2=At(()=>t("div",null,[t("img",{src:P0,alt:"\u5171\u4EAB\u6587\u4EF6"})],-1)),i2=At(()=>t("div",null,[t("img",{src:V0,alt:"\u5171\u4EAB\u7528\u6237"})],-1)),l2={class:"card-content"},c2=At(()=>t("div",null,[t("img",{src:M0,alt:"\u5171\u4EAB\u8BBE\u7F6E"})],-1)),d2={class:"card-content"},r2=At(()=>t("div",null,[t("img",{src:T0,alt:"\u6587\u4EF6\u7BA1\u7406"})],-1)),_2=At(()=>t("div",null,[t("img",{src:L0,alt:"\u6587\u4EF6\u540C\u6B65"})],-1)),p2=At(()=>t("div",null,[t("img",{src:z0,alt:"\u76F8\u518C\u5907\u4EFD"})],-1)),v2={class:"width-40 responsive"},h2={class:"card-content"},F2=["alt"],m2={class:"card-content"},f2=["alt"],E2=V({__name:"index",setup(e){const u=()=>{we.OpenGuideWindow()},n=C(window.innerWidth<668),a=()=>{window.open("/cgi-bin/luci/admin/services/linkease/file","_blank")},d=()=>{n.value=window.innerWidth<668};et(()=>{window.addEventListener("resize",d)}),uu(()=>{window.removeEventListener("resize",d)});const F=()=>{A.Message("\u6682\u672A\u5F00\u653E")};return(p,r)=>(o(),c("div",null,[t("div",s2,[x(ft,{title:p.$t("\u5171\u4EAB\u529F\u80FD"),height:"140px"},{default:M(()=>[x(j,{span:8,onClick:r[0]||(r[0]=s=>R(_u).Open())},{default:M(()=>[t("div",o2,[a2,t("span",null,m(p.$t("\u5171\u4EAB\u6587\u4EF6")),1)])]),_:1}),x(j,{span:8},{default:M(()=>[t("div",{class:"card-content",onClick:r[1]||(r[1]=s=>R(pu).Open())},[i2,t("span",null,m(p.$t("\u5171\u4EAB\u7528\u6237")),1)])]),_:1}),x(j,{span:8,onClick:r[2]||(r[2]=s=>F())},{default:M(()=>[t("div",l2,[c2,t("span",null,m(p.$t("\u5171\u4EAB\u8BBE\u7F6E")),1)])]),_:1})]),_:1},8,["title"]),x(ft,{title:p.$t("\u5176\u4ED6\u529F\u80FD"),height:"140px"},{default:M(()=>[x(j,{span:8,onClick:a},{default:M(()=>[t("div",d2,[r2,t("span",null,m(p.$t("\u6587\u4EF6\u7BA1\u7406")),1)])]),_:1}),x(j,{span:8},{default:M(()=>[t("div",{class:"card-content",onClick:r[3]||(r[3]=s=>R(De).Open("sync"))},[_2,t("span",null,m(p.$t("\u6587\u4EF6\u540C\u6B65")),1)])]),_:1}),x(j,{span:8},{default:M(()=>[t("div",{class:"card-content",onClick:r[4]||(r[4]=s=>R(De).Open("backup"))},[p2,t("span",null,m(p.$t("\u76F8\u518C\u5907\u4EFD")),1)])]),_:1})]),_:1},8,["title"])]),t("div",v2,[x(ft,{height:n.value?"":"288px",title:p.$t("\u5411\u5BFC\u529F\u80FD")},{default:M(()=>[x(j,{span:12,onClick:r[5]||(r[5]=s=>R(at)({title:p.$t("\u7F51\u7EDC\u5411\u5BFC"),src:"/cgi-bin/luci/admin/quickstart/network"}))},{default:M(()=>[t("div",h2,[t("div",null,[t("img",{src:O0,alt:p.$t("\u7F51\u7EDC\u5411\u5BFC")},null,8,F2)]),t("span",null,m(p.$t("\u7F51\u7EDC\u5411\u5BFC")),1)])]),_:1}),x(j,{span:12,onClick:r[6]||(r[6]=s=>u())},{default:M(()=>[t("div",m2,[t("div",null,[t("img",{src:N0,alt:p.$t("NAS\u5411\u5BFC")},null,8,f2)]),t("span",null,m(p.$t("NAS\u5411\u5BFC")),1)])]),_:1})]),_:1},8,["height","title"])])]))}});var C2=S(E2,[["__scopeId","data-v-719851d0"]]);const g2=V({__name:"index",setup(e){const u=xe(),n=W(()=>u.portitemStyle.portitem),a=W(()=>u.portitemStyle.show),d=W(()=>({bottom:`calc(100% - ${u.portitemStyle.top}px)`,left:`${u.portitemStyle.left}px`})),F=s=>{switch(s){case"full":return"\u5168\u53CC\u5DE5";case"half":return"\u534A\u53CC\u5DE5"}},p=s=>{u.portitemStyle.show=!0},r=s=>{u.portitemStyle.show=!1};return(s,i)=>a.value?(o(),c("div",{key:0,class:"disk-item-tooltip",style:tt(d.value),onMouseenter:p,onMouseleave:r},[t("div",null,m(F(n.value.duplex)),1),t("div",null,"\u540D\u79F0\uFF1A"+m(n.value.name||"--"),1),t("div",null,"MAC\uFF1A"+m(n.value.macAddress||"--"),1),t("div",null,"\u63A5\u6536\uFF1A"+m(n.value.rx_packets||"--"),1),t("div",null,"\u53D1\u9001\uFF1A"+m(n.value.tx_packets||"--"),1)],36)):$("",!0)}});var $2=S(g2,[["__scopeId","data-v-4955cc3f"]]);const b2={class:"next-main",style:{}},y2={class:"content"},D2=V({__name:"index",setup(e){return(u,n)=>(o(),c("div",b2,[x(Ku),t("div",y2,[t("div",null,[x(nn),x(oa),x(Ua),x(w1)]),t("div",null,[x(C2),x(N1),x(I0)])]),x($2)]))}});var x2=S(D2,[["__scopeId","data-v-cbe9b60a"]]);export{x2 as default};
